{"_path":"/migration/runtime-config","_dir":"migration","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Runtime Config","description":"If you wish to reference environment variables within your Nuxt 3 app, you will need to use runtime config.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"runtime-config"},"children":[{"type":"text","value":"Runtime Config"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you wish to reference environment variables within your Nuxt 3 app, you will need to use runtime config."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When referencing these variables within your components, you will have to use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"text","value":" composable in your setup method (or Nuxt plugin)."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server/"}]},{"type":"text","value":" portion of your app, you can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"text","value":" without any import."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/docs/guide/going-further/runtime-config"},"children":[{"type":"text","value":"Read more about runtime config"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"migration"},"children":[{"type":"text","value":"Migration"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add any environment variables that you use in your app to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"runtimeConfig"}]},{"type":"text","value":" property of the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" file."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Migrate "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"process.env"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"text","value":" throughout the Vue part of your app."}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\r\n  runtimeConfig: {\r\n    // Private config that is only available on the server\r\n    apiSecret: '123',\r\n    // Config within public will be also exposed to the client\r\n    public: {\r\n      apiBase: '/api'\r\n    }\r\n  },\r\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"[nuxt.config.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6d4757"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"runtimeConfig: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-898fd0"},"children":[{"type":"text","value":"// Private config that is only available on the server\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"    apiSecret: "}]},{"type":"element","tag":"span","props":{"class":"ct-f11cdf"},"children":[{"type":"text","value":"'123'"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-898fd0"},"children":[{"type":"text","value":"// Config within public will be also exposed to the client\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"    public: {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"      apiBase: "}]},{"type":"element","tag":"span","props":{"class":"ct-f11cdf"},"children":[{"type":"text","value":"'/api'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"<script setup>\r\n  const config = useRuntimeConfig()\r\n\r\n  // instead of process.env you will now access config.public.apiBase\r\n  console.log(config.public.apiBase)\r\n</script>\n","filename":"pages/index.vue","language":"vue","meta":"[pages/index.vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-b20b41"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1cd95c"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1cd95c"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6d4757"},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-898fd0"},"children":[{"type":"text","value":"// instead of process.env you will now access config.public.apiBase\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"  console."}]},{"type":"element","tag":"span","props":{"class":"ct-6d4757"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"(config.public.apiBase)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-b20b41"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"const config = useRuntimeConfig()\r\n\r\nexport default (req, res) => {\r\n  // In server, you can now access config.apiSecret, in addition to config.public\r\n  console.log(config.apiSecret)\r\n  console.log(config.public.apiBase)\r\n}\n","filename":"server/api/hello.ts","language":"ts","meta":"[server/api/hello.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-1cd95c"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6d4757"},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":" (req, res) "}]},{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a1bdd5"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-898fd0"},"children":[{"type":"text","value":"// In server, you can now access config.apiSecret, in addition to config.public\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"  console."}]},{"type":"element","tag":"span","props":{"class":"ct-6d4757"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"(config.apiSecret)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"  console."}]},{"type":"element","tag":"span","props":{"class":"ct-6d4757"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"(config.public.apiBase)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"# Runtime config values are automatically replaced by matching environment variables at runtime\r\nNUXT_API_SECRET=api_secret_token\r\nNUXT_PUBLIC_API_BASE=https://nuxtjs.org\n","filename":".env","language":"ini","meta":"[.env]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-898fd0"},"children":[{"type":"text","value":"# Runtime config values are automatically replaced by matching environment variables at runtime\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"NUXT_API_SECRET"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"=api_secret_token\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-7328d8"},"children":[{"type":"text","value":"NUXT_PUBLIC_API_BASE"}]},{"type":"element","tag":"span","props":{"class":"ct-ca5f82"},"children":[{"type":"text","value":"=https://nuxtjs.org"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-1cd95c{color:#0550AE}\n.ct-b20b41{color:#116329}\n.ct-f11cdf{color:#0A3069}\n.ct-898fd0{color:#6E7781}\n.ct-ca5f82{color:#24292F}\n.ct-6d4757{color:#8250DF}\n.ct-a1bdd5{color:#953800}\n.ct-7328d8{color:#CF222E}\n.dark .ct-7328d8{color:#FF7B72}\n.dark .ct-a1bdd5{color:#FFA657}\n.dark .ct-6d4757{color:#D2A8FF}\n.dark .ct-ca5f82{color:#C9D1D9}\n.dark .ct-898fd0{color:#8B949E}\n.dark .ct-f11cdf{color:#A5D6FF}\n.dark .ct-b20b41{color:#7EE787}\n.dark .ct-1cd95c{color:#79C0FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"migration","depth":2,"text":"Migration"},{"id":"example","depth":2,"text":"Example"}]}},"_type":"markdown","_id":"content:7.migration:8.runtime-config.md","_source":"content","_file":"7.migration/8.runtime-config.md","_extension":"md"}