{"_path":"/api/composables/use-nuxt-app","_dir":"composables","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"useNuxtApp","description":"useNuxtApp is a built-in composable that provides a way to access shared runtime context of Nuxt, which is available on both client and server side. It helps you access the Vue app instance, runtime hooks, runtime config variables and internal states, such as ssrContext and payload.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"usenuxtapp"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useNuxtApp"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useNuxtApp"}]},{"type":"text","value":" is a built-in composable that provides a way to access shared runtime context of Nuxt, which is available on both client and server side. It helps you access the Vue app instance, runtime hooks, runtime config variables and internal states, such as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ssrContext"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useNuxtApp()"}]},{"type":"text","value":" within composables, plugins and components."}]},{"type":"element","tag":"code","props":{"code":"<script setup>\r\n  const nuxtApp = useNuxtApp()\r\n</script>\n","filename":"app.vue","language":"vue","meta":"[app.vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-d21f19"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cc855c"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cc855c"},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"useNuxtApp"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-d21f19"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"methods"},"children":[{"type":"text","value":"Methods"}]},{"type":"element","tag":"h3","props":{"id":"provide-name-value"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provide (name, value)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":" is a runtime context that you can extend using "},{"type":"element","tag":"a","props":{"href":"/guide/directory-structure/plugins"},"children":[{"type":"text","value":"Nuxt plugins"}]},{"type":"text","value":". Use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provide"}]},{"type":"text","value":" function to create Nuxt plugins to make values and helper methods available in your Nuxt application across all composables and components."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"provide"}]},{"type":"text","value":" function accepts "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"name"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"value"}]},{"type":"text","value":" parameters."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"code","props":{"code":"const nuxtApp = useNuxtApp()\r\nnuxtApp.provide('hello', (name) => `Hello ${name}!`)\r\n\r\n// Prints \"Hello name!\"\r\nconsole.log(nuxtApp.$hello('name'))\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cc855c"},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"useNuxtApp"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"nuxtApp."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"provide"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'hello'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":", ("}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"`Hello ${"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"name"}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"}!`"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-3b002d"},"children":[{"type":"text","value":"// Prints \"Hello name!\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"(nuxtApp."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"$hello"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'name'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"))"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"As you can see in the example above, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$hello"}]},{"type":"text","value":" has become the new and custom part of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":" context and it is available in all places where "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":" is accessible."}]},{"type":"element","tag":"h3","props":{"id":"hookname-cb"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hook(name, cb)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Hooks available in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":" allows you to customize the runtime aspects of your Nuxt application. You can use runtime hooks in Vue.js composables and "},{"type":"element","tag":"a","props":{"href":"/guide/directory-structure/plugins"},"children":[{"type":"text","value":"Nuxt plugins"}]},{"type":"text","value":" to hook into the rendering lifecycle."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hook"}]},{"type":"text","value":" function is useful for adding custom logic by hooking into the rendering lifecycle at a specific point. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"hook"}]},{"type":"text","value":" function is mostly used when creating Nuxt plugins."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/api/advanced/hooks#app-hooks-runtime"},"children":[{"type":"text","value":"Runtime Hooks"}]},{"type":"text","value":" for available runtime hooks called by Nuxt."}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtPlugin((nuxtApp) => {\r\n  nuxtApp.hook('page:start', () => {\r\n    /* your code goes here */\r\n  })\r\n  nuxtApp.hook('vue:error', (..._args) => {\r\n    console.log('vue:error')\r\n    // if (process.client) {\r\n    //   console.log(..._args)\r\n    // }\r\n  })\r\n})\n","filename":"plugins/test.ts","language":"js","meta":"[plugins/test.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"defineNuxtPlugin"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"((nuxtApp) "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  nuxtApp."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'page:start'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":", () "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3b002d"},"children":[{"type":"text","value":"/* your code goes here */\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  nuxtApp."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'vue:error'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":", ("}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"_args"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'vue:error'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3b002d"},"children":[{"type":"text","value":"// if (process.client) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3b002d"},"children":[{"type":"text","value":"//   console.log(..._args)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3b002d"},"children":[{"type":"text","value":"// }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"callhookname-args"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"callhook(name, ...args)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"callHook"}]},{"type":"text","value":" returns a promise when called with any of the existing hooks."}]},{"type":"element","tag":"code","props":{"code":"await nuxtApp.callHook('my-plugin:init')\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" nuxtApp."}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"callHook"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'my-plugin:init'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"properties"},"children":[{"type":"text","value":"Properties"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useNuxtApp()"}]},{"type":"text","value":" exposes the following properties that you can use to extend and customize your app and share state, data and variables."}]},{"type":"element","tag":"h3","props":{"id":"vueapp"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vueApp"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vueApp"}]},{"type":"text","value":" is the global Vue.js "},{"type":"element","tag":"a","props":{"href":"https://vuejs.org/api/application.html#application-api","rel":["nofollow"]},"children":[{"type":"text","value":"application instance"}]},{"type":"text","value":" that you can access through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"text","value":". Some useful methods:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://vuejs.org/api/application.html#app-component","rel":["nofollow"]},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"component()"}]}]},{"type":"text","value":" - Registers a global component if passing both a name string and a component definition, or retrieves an already registered one if only the name is passed."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://vuejs.org/api/application.html#app-directive","rel":["nofollow"]},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"directive()"}]}]},{"type":"text","value":" - Registers a global custom directive if passing both a name string and a directive definition, or retrieves an already registered one if only the name is passed"},{"type":"element","tag":"a","props":{"href":"/guide/directory-structure/plugins#vue-directives"},"children":[{"type":"text","value":"(example)"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://vuejs.org/api/application.html#app-use","rel":["nofollow"]},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"use()"}]}]},{"type":"text","value":" - Installs a "},{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://vuejs.org/guide/reusability/plugins.html","rel":["nofollow"]},"children":[{"type":"text","value":"Vue.js Plugin"}]}]},{"type":"text","value":" "},{"type":"element","tag":"a","props":{"href":"/guide/directory-structure/plugins#vue-plugins"},"children":[{"type":"text","value":"(example)"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"read-more","props":{"link":"https://vuejs.org/api/application.html#application-api"},"children":[]},{"type":"element","tag":"h3","props":{"id":"ssrcontext"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ssrContext"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ssrContext"}]},{"type":"text","value":" is generated during server-side rendering and it is only available on the server side. Nuxt exposes the following properties through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ssrContext"}]},{"type":"text","value":":"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]}]},{"type":"text","value":" (string) -  Current request url."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"event"}]}]},{"type":"text","value":" ("},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/h3","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/h3"}]},{"type":"text","value":" request event) - Access to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"req"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"res"}]},{"type":"text","value":" objects for the current request."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload"}]}]},{"type":"text","value":" (object) - NuxtApp payload object."}]}]},{"type":"element","tag":"h3","props":{"id":"payload"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload"}]},{"type":"text","value":" exposes data and state variables from server side to client side and makes them available in the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"window.__NUXT__"}]},{"type":"text","value":" object that is accessible from the browser."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload"}]},{"type":"text","value":" exposes the following keys on the client side after they are stringified and passed from the server side:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"serverRendered"}]},{"type":"text","value":" (boolean) - Indicates if response is server-side-rendered."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" (object) - When you fetch the data from an API endpoint using either "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":", resulting payload can be accessed from the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload.data"}]},{"type":"text","value":". This data is cached and helps you prevent fetching the same data in case an identical request is made more than once."}]}]},{"type":"element","tag":"code","props":{"code":"export default defineComponent({\r\n  async setup() {\r\n    const { data } = await useAsyncData('count', () => $fetch('/api/count'))\r\n  }\r\n})\n","filename":"app.vue","language":"vue","meta":"[app.vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"export default defineComponent({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  async setup() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    const { data } = await useAsyncData('count', () => $fetch('/api/count'))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After fetching the value of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"count"}]},{"type":"text","value":" using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" in the example above, if you access "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload.data"}]},{"type":"text","value":", you will see "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"{ count: 1 }"}]},{"type":"text","value":" recorded there. The value of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"count"}]},{"type":"text","value":" is updated whenever the page count increases."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When accessing the same "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload.data"}]},{"type":"text","value":" from "},{"type":"element","tag":"a","props":{"href":"#ssrcontext"},"children":[{"type":"text","value":"ssrcontext"}]},{"type":"text","value":", you can access the same value on the server side as well."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"state"}]},{"type":"text","value":" (object) - When you use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useState"}]},{"type":"text","value":" composable in Nuxt to set shared state, this state data is accessed through "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"payload.state.[name-of-your-state]"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"code","props":{"code":"export const useColor = () => useState<string>('color', () => 'pink')\r\n\r\nexport default defineNuxtPlugin((nuxtApp) => {\r\n  if (process.server) {\r\n    const color = useColor()\r\n  }\r\n})\n","filename":"plugins/my-plugin.ts","language":"js","meta":"[plugins/my-plugin.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"useColor"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"useState"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-cc855c"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":">("}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'color'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":", () "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7b1855"},"children":[{"type":"text","value":"'pink'"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"defineNuxtPlugin"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"((nuxtApp) "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" (process.server) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cc855c"},"children":[{"type":"text","value":"color"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"useColor"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"ishydrating"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"isHydrating"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxtApp.isHydrating"}]},{"type":"text","value":" (boolean) to check if the Nuxt app is hydrating on the client side."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"code","props":{"code":"export default defineComponent({\r\n  setup (_props, { slots, emit }) {\r\n    const nuxtApp = useNuxtApp()\r\n    onErrorCaptured((err) => {\r\n      if (process.client && !nuxtApp.isHydrating) {\r\n        // ...\r\n      }\r\n    })\r\n  }\r\n})\n","filename":"components/nuxt-error-boundary.ts","language":"ts","meta":"[components/nuxt-error-boundary.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"defineComponent"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":" (_props, { slots, emit }) "}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-cc855c"},"children":[{"type":"text","value":"nuxtApp"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"useNuxtApp"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fdc266"},"children":[{"type":"text","value":"onErrorCaptured"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"(("}]},{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"err"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" (process.client "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c8f60b"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"nuxtApp.isHydrating) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-3b002d"},"children":[{"type":"text","value":"// ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"      }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"    })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-6eaa42"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-e54f16"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-3b002d{color:#6E7781}\n.ct-e54f16{color:#953800}\n.ct-7b1855{color:#0A3069}\n.ct-fdc266{color:#8250DF}\n.ct-c8f60b{color:#CF222E}\n.ct-cc855c{color:#0550AE}\n.ct-d21f19{color:#116329}\n.ct-6eaa42{color:#24292F}\n.dark .ct-6eaa42{color:#C9D1D9}\n.dark .ct-d21f19{color:#7EE787}\n.dark .ct-cc855c{color:#79C0FF}\n.dark .ct-c8f60b{color:#FF7B72}\n.dark .ct-fdc266{color:#D2A8FF}\n.dark .ct-7b1855{color:#A5D6FF}\n.dark .ct-e54f16{color:#FFA657}\n.dark .ct-3b002d{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"methods","depth":2,"text":"Methods","children":[{"id":"provide-name-value","depth":3,"text":"provide (name, value)"},{"id":"hookname-cb","depth":3,"text":"hook(name, cb)"},{"id":"callhookname-args","depth":3,"text":"callhook(name, ...args)"}]},{"id":"properties","depth":2,"text":"Properties","children":[{"id":"vueapp","depth":3,"text":"vueApp"},{"id":"ssrcontext","depth":3,"text":"ssrContext"},{"id":"payload","depth":3,"text":"payload"},{"id":"ishydrating","depth":3,"text":"isHydrating"}]}]}},"_type":"markdown","_id":"content:3.api:1.composables:use-nuxt-app.md","_source":"content","_file":"3.api/1.composables/use-nuxt-app.md","_extension":"md"}