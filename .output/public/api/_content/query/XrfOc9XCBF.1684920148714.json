{"_path":"/api/composables/use-cookie","_dir":"composables","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"useCookie","description":"useCookie is an SSR-friendly composable to read and write cookies.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"usecookie"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useCookie"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Within your pages, components and plugins you can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useCookie"}]},{"type":"text","value":", an SSR-friendly composable to read and write cookies."}]},{"type":"element","tag":"code","props":{"code":"const cookie = useCookie(name, options)\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"cookie"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"useCookie"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(name, options)"}]}]}]}]}]},{"type":"element","tag":"alert","props":{"icon":"ðŸ‘‰"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useCookie"}]},{"type":"text","value":" only works during "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Lifecycle Hooks"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"alert","props":{"icon":"ðŸ˜Œ"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useCookie"}]},{"type":"text","value":" ref will automatically serialize and deserialize cookie value to JSON."}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The example below creates a cookie called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"counter"}]},{"type":"text","value":". If the cookie doesn't exist, it is initially set to a random value. Whenever we update the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"counter"}]},{"type":"text","value":" variable, the cookie will be updated accordingly."}]},{"type":"element","tag":"code","props":{"code":"<template>\r\n  <div>\r\n    <h1>Counter: {{ counter || '-' }}</h1>\r\n    <button @click=\"counter = null\">reset</button>\r\n    <button @click=\"counter--\">-</button>\r\n    <button @click=\"counter++\">+</button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst counter = useCookie('counter')\r\ncounter.value = counter.value || Math.round(Math.random() * 1000)\r\n</script>\n","language":"vue","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">Counter: {{ counter || '-' }}</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"\"counter = null\""}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">reset</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"\"counter--\""}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">-</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"\"counter++\""}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">+</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"counter"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"useCookie"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"'counter'"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"counter.value "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" counter.value "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" Math."}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"round"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(Math."}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"random"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"1000"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"button-link","props":{":blank":"true","href":"https://stackblitz.com/github/nuxt/nuxt/tree/main/examples/composables/use-cookie?terminal=dev&file=app.vue"},"children":[{"type":"text","value":"Open on StackBlitz"}]},{"type":"element","tag":"h2","props":{"id":"options"},"children":[{"type":"text","value":"Options"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Cookie composable accepts several options which let you modify the behavior of cookies."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most of the options will be directly passed to the "},{"type":"element","tag":"a","props":{"href":"https://github.com/jshttp/cookie","rel":["nofollow"]},"children":[{"type":"text","value":"cookie"}]},{"type":"text","value":" package."}]},{"type":"element","tag":"h3","props":{"id":"maxage-expires"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"maxAge"}]},{"type":"text","value":" / "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"expires"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"maxAge"}]}]},{"type":"text","value":" Specifies the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]},{"type":"text","value":" (in seconds) to be the value for the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.2.2","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Max-Age"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" attribute"}]},{"type":"text","value":".\r\nThe given number will be converted to an integer by rounding down. By default, no maximum age is set."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"expires"}]}]},{"type":"text","value":": Specifies the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Date"}]},{"type":"text","value":" object to be the value for the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.2.1","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Expires"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" attribute"}]},{"type":"text","value":".\r\nBy default, no expiration is set. Most clients will consider this a \"non-persistent cookie\" and\r\nwill delete it on a condition like exiting a web browser application."}]},{"type":"element","tag":"alert","props":{"icon":"ðŸ’¡"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" The "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.3","rel":["nofollow"]},"children":[{"type":"text","value":"cookie storage model specification"}]},{"type":"text","value":" states that if both "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"expires"}]},{"type":"text","value":" and\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"maxAge"}]},{"type":"text","value":" is set, then "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"maxAge"}]},{"type":"text","value":" takes precedence, but not all clients may obey this,\r\nso if both are set, they should point to the same date and time!"}]}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If neither of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"expires"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"maxAge"}]},{"type":"text","value":" is set, the cookie will be session-only and removed when the user closes their browser."}]}]},{"type":"element","tag":"h3","props":{"id":"httponly"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"httpOnly"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" value for the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.2.6","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HttpOnly"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" attribute"}]},{"type":"text","value":". When truthy,\r\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HttpOnly"}]},{"type":"text","value":" attribute is set; otherwise it is not. By default, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"HttpOnly"}]},{"type":"text","value":" attribute is not set."}]},{"type":"element","tag":"alert","props":{"icon":"ðŸ’¡"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" Be careful when setting this to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":", as compliant clients will not allow client-side\r\nJavaScript to see the cookie in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"document.cookie"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"secure"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"secure"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" value for the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.2.5","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Secure"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" attribute"}]},{"type":"text","value":". When truthy,\r\nthe "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Secure"}]},{"type":"text","value":" attribute is set; otherwise it is not. By default, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Secure"}]},{"type":"text","value":" attribute is not set."}]},{"type":"element","tag":"alert","props":{"icon":"ðŸ’¡"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" Be careful when setting this to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":", as compliant clients will not send the cookie back to\r\nthe server in the future if the browser does not have an HTTPS connection. This can lead to hydration errors."}]}]},{"type":"element","tag":"h3","props":{"id":"domain"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"domain"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies the value for the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.2.3","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Domain"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" attribute"}]},{"type":"text","value":". By default, no\r\ndomain is set, and most clients will consider applying the cookie only to the current domain."}]},{"type":"element","tag":"h3","props":{"id":"path"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"path"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies the value for the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.2.4","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Path"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" attribute"}]},{"type":"text","value":". By default, the path\r\nis considered the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/rfc6265#section-5.1.4","rel":["nofollow"]},"children":[{"type":"text","value":"\"default path\""}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"samesite"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sameSite"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]},{"type":"text","value":" value for the "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-03#section-4.1.2.7","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SameSite"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Set-Cookie"}]},{"type":"text","value":" attribute"}]},{"type":"text","value":"."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" will set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SameSite"}]},{"type":"text","value":" attribute to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Strict"}]},{"type":"text","value":" for strict same-site enforcement."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" will not set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SameSite"}]},{"type":"text","value":" attribute."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'lax'"}]},{"type":"text","value":" will set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SameSite"}]},{"type":"text","value":" attribute to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Lax"}]},{"type":"text","value":" for lax same-site enforcement."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'none'"}]},{"type":"text","value":" will set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SameSite"}]},{"type":"text","value":" attribute to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"None"}]},{"type":"text","value":" for an explicit cross-site cookie."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'strict'"}]},{"type":"text","value":" will set the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"SameSite"}]},{"type":"text","value":" attribute to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Strict"}]},{"type":"text","value":" for strict same-site enforcement."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"More information about the different enforcement levels can be found in "},{"type":"element","tag":"a","props":{"href":"https://tools.ietf.org/html/draft-ietf-httpbis-rfc6265bis-03#section-4.1.2.7","rel":["nofollow"]},"children":[{"type":"text","value":"the specification"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"encode"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"encode"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies a function that will be used to encode a cookie's value. Since the value of a cookie\r\nhas a limited character set (and must be a simple string), this function can be used to encode\r\na value into a string suited for a cookie's value."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default encoder is the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"JSON.stringify"}]},{"type":"text","value":" + "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"encodeURIComponent"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"decode"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"decode"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies a function that will be used to decode a cookie's value. Since the value of a cookie\r\nhas a limited character set (and must be a simple string), this function can be used to decode\r\na previously encoded cookie value into a JavaScript string or other object."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The default decoder is "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"decodeURIComponent"}]},{"type":"text","value":" + "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/destr","rel":["nofollow"]},"children":[{"type":"text","value":"destr"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"icon":"ðŸ’¡"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" If an error is thrown from this function, the original, non-decoded cookie value will\r\nbe returned as the cookie's value."}]}]},{"type":"element","tag":"h3","props":{"id":"default"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"default"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies a function that returns the cookie's default value. The function can also return a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Ref"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"watch"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"watch"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Specifies the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]},{"type":"text","value":" value for "},{"type":"element","tag":"a","props":{"href":"https://vuejs.org/api/reactivity-core.html#watch","rel":["nofollow"]},"children":[{"type":"text","value":"watch"}]},{"type":"text","value":" cookie ref data."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" - Will watch cookie ref data changes and its nested properties. (default)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"shallow"}]},{"type":"text","value":" - Will watch cookie ref data changes for only top level properties"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" Will not watch cookie ref data changes."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example 1:"}]}]},{"type":"element","tag":"code","props":{"code":"<template>\r\n  <div>User score: {{ user?.score }}</div>\r\n</template>\r\n\r\n<script setup>\r\nconst user = useCookie(\r\n  'userInfo',\r\n  {\r\n    default: () => ({ score: -1 }),\r\n    watch: false\r\n  }\r\n)\r\n\r\nif (user.value && user.value !== null) {\r\n  user.value.score++; // userInfo cookie not update with this change\r\n}\r\n</script>\n","language":"vue","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">User score: {{ user?.score }}</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"useCookie"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"'userInfo'"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":": () "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" ({ score: "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"-"}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"1"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" }),\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    watch: "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"false\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" (user.value "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" user.value "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"!=="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  user.value.score"}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"; "}]},{"type":"element","tag":"span","props":{"class":"ct-be4ead"},"children":[{"type":"text","value":"// userInfo cookie not update with this change\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example 2:"}]}]},{"type":"element","tag":"code","props":{"code":"<template>\r\n  <div>\r\n    <h1>List</h1>\r\n    <pre>{{ list }}</pre>\r\n    <button @click=\"add\">Add</button>\r\n    <button @click=\"save\">Save</button>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst list = useCookie(\r\n  'list',\r\n  {\r\n    default: () => [],\r\n    watch: 'shallow'\r\n  }\r\n)\r\n\r\nfunction add() {\r\n  list.value?.push(Math.round(Math.random() * 1000))\r\n  // list cookie not update with this change\r\n}\r\n\r\nfunction save() {\r\n  if (list.value && list.value !== null) {\r\n    list.value = [...list.value]\r\n    // list cookie update with this change\r\n  }\r\n}\r\n</script>\n","language":"vue","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">List</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">{{ list }}</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"pre"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"\"add\""}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">Add</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"@click"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"\"save\""}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">Save</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"button"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"list"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"useCookie"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"'list'"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":": () "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" [],\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    watch: "}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"'shallow'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  list.value?."}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(Math."}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"round"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(Math."}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"random"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"*"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"1000"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"))\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-be4ead"},"children":[{"type":"text","value":"// list cookie not update with this change\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"save"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"() {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" (list.value "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"&&"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" list.value "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"!=="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"null"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    list.value "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" ["}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"..."}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"list.value]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-be4ead"},"children":[{"type":"text","value":"// list cookie update with this change\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":30},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a23955"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"handling-cookies-in-api-routes"},"children":[{"type":"text","value":"Handling Cookies in API Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"getCookie"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setCookie"}]},{"type":"text","value":" from "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/h3","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"h3"}]}]},{"type":"text","value":" package to set cookies in server API routes."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"code","props":{"code":"export default defineEventHandler(event => {\r\n  // Read counter cookie\r\n  let counter = getCookie(event, 'counter') || 0\r\n\r\n  // Increase counter cookie by 1\r\n  setCookie(event, 'counter', ++counter)\r\n\r\n  // Send JSON response\r\n  return { counter }\r\n})\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-d66ed9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-d66ed9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"defineEventHandler"}]},{"type":"element","tag":"span","props":{"class":"ct-d66ed9"},"children":[{"type":"text","value":"(event "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-d66ed9"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-be4ead"},"children":[{"type":"text","value":"// Read counter cookie\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"let"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" counter "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"getCookie"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(event, "}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"'counter'"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-d0b3e9"},"children":[{"type":"text","value":"0\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-be4ead"},"children":[{"type":"text","value":"// Increase counter cookie by 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-9d4fe8"},"children":[{"type":"text","value":"setCookie"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"(event, "}]},{"type":"element","tag":"span","props":{"class":"ct-e0fe39"},"children":[{"type":"text","value":"'counter'"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"++"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"counter)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-be4ead"},"children":[{"type":"text","value":"// Send JSON response\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-13b277"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":" { counter }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-23671f"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-d66ed9"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"link-example","props":{"link":"/docs/examples/composables/use-cookie"},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-d66ed9{color:#953800}\n.ct-be4ead{color:#6E7781}\n.ct-e0fe39{color:#0A3069}\n.ct-a23955{color:#116329}\n.ct-9d4fe8{color:#8250DF}\n.ct-d0b3e9{color:#0550AE}\n.ct-23671f{color:#24292F}\n.ct-13b277{color:#CF222E}\n.dark .ct-13b277{color:#FF7B72}\n.dark .ct-23671f{color:#C9D1D9}\n.dark .ct-d0b3e9{color:#79C0FF}\n.dark .ct-9d4fe8{color:#D2A8FF}\n.dark .ct-a23955{color:#7EE787}\n.dark .ct-e0fe39{color:#A5D6FF}\n.dark .ct-be4ead{color:#8B949E}\n.dark .ct-d66ed9{color:#FFA657}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"example","depth":2,"text":"Example"},{"id":"options","depth":2,"text":"Options","children":[{"id":"maxage-expires","depth":3,"text":"maxAge / expires"},{"id":"httponly","depth":3,"text":"httpOnly"},{"id":"secure","depth":3,"text":"secure"},{"id":"domain","depth":3,"text":"domain"},{"id":"path","depth":3,"text":"path"},{"id":"samesite","depth":3,"text":"sameSite"},{"id":"encode","depth":3,"text":"encode"},{"id":"decode","depth":3,"text":"decode"},{"id":"default","depth":3,"text":"default"},{"id":"watch","depth":3,"text":"watch"}]},{"id":"handling-cookies-in-api-routes","depth":2,"text":"Handling Cookies in API Routes"}]}},"_type":"markdown","_id":"content:3.api:1.composables:use-cookie.md","_source":"content","_file":"3.api/1.composables/use-cookie.md","_extension":"md"}