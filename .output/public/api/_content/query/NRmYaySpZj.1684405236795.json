{"_path":"/getting-started/routing","_dir":"getting-started","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"路由","description":"Nuxt file-system routing creates a route for every file in the pages/ directory.","navigation":{"icon":"uil:sign-alt"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"路由"},"children":[{"type":"text","value":"路由"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 的一个核心特点是文件系统路由。位于 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":" 目录中的每个 Vue 文件都会创建一个对应的 URL（或路由），以显示文件的内容。通过为每个页面使用动态导入，Nuxt 利用代码分割技术，为请求的路由发送最小量的 JavaScript。"}]},{"type":"element","tag":"h2","props":{"id":"页面"},"children":[{"type":"text","value":"页面"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 的路由基于 "},{"type":"element","tag":"a","props":{"href":"https://router.vuejs.org/","rel":["nofollow"]},"children":[{"type":"text","value":"vue-router"}]},{"type":"text","value":"，它根据 "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/pages"},"children":[{"type":"text","value":"`pages/"}]},{"type":"text","value":" 目录中创建的每个组件的文件名生成路由。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这种文件系统路由使用命名约定来创建动态和嵌套路由："}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"pages/\r\n--| about.vue\r\n--| posts/\r\n----| [id].vue\n","filename":"pages/ directory","language":"text","meta":"[pages/ directory]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"pages/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"--| about.vue\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"--| posts/\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"----| [id].vue"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"{\r\n  \"routes\": [\r\n    {\r\n      \"path\": \"/about\",\r\n      \"component\": \"pages/about.vue\"\r\n    },\r\n    {\r\n      \"path\": \"/posts/:id\",\r\n      \"component\": \"pages/posts/[id].vue\"\r\n    }\r\n  ]\r\n}\n","filename":"Generated Router file","language":"js","meta":"[Generated Router file]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"routes\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":": [\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"path\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"/about\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"component\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"pages/about.vue\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"path\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"/posts/:id\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"component\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"pages/posts/[id].vue\"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  ]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"}"}]}]}]}]}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/guide/directory-structure/pages"},"children":[]},{"type":"element","tag":"h2","props":{"id":"导航"},"children":[{"type":"text","value":"导航"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtLink>"}]},{"type":"text","value":"组件链接页面之间。它使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"href"}]},{"type":"text","value":"属性将"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<a>"}]},{"type":"text","value":"标签渲染为页面路由。一旦应用程序被加载，页面过渡效果就由JavaScript执行，通过更新浏览器URL来实现。这可以防止整个页面的刷新，并允许动画过渡效果。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"当"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtLink>"}]},{"type":"text","value":"在客户端视口中出现时，Nuxt会自动预取链接页面的组件和负载（生成的页面），从而实现更快的导航。"}]},{"type":"element","tag":"code","props":{"code":"<template>\r\n  <header>\r\n    <nav>\r\n      <ul>\r\n        <li><NuxtLink to=\"/about\">About</NuxtLink></li>\r\n        <li><NuxtLink to=\"/posts/1\">Post 1</NuxtLink></li>\r\n        <li><NuxtLink to=\"/posts/2\">Post 2</NuxtLink></li>\r\n      </ul>\r\n    </nav>\r\n  </header>\r\n</template>\n","filename":"pages/app.vue","language":"vue","meta":"[pages/app.vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"nav"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"      <"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"ul"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"class":"ct-4dba36"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"/about\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">About</"}]},{"type":"element","tag":"span","props":{"class":"ct-4dba36"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"class":"ct-4dba36"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"/posts/1\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">Post 1</"}]},{"type":"element","tag":"span","props":{"class":"ct-4dba36"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"        <"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"><"}]},{"type":"element","tag":"span","props":{"class":"ct-4dba36"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"to"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"\"/posts/2\""}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">Post 2</"}]},{"type":"element","tag":"span","props":{"class":"ct-4dba36"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"li"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"      </"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"ul"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"nav"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"header"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/api/components/nuxt-link"},"children":[]},{"type":"element","tag":"h2","props":{"id":"路由参数"},"children":[{"type":"text","value":"路由参数"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRoute()"}]},{"type":"text","value":"组合式函数可以在Vue组件的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<script setup>"}]},{"type":"text","value":"块或"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setup()"}]},{"type":"text","value":"方法中使用，以访问当前路由的详细信息。"}]},{"type":"element","tag":"code","props":{"code":"<script setup>\r\nconst route = useRoute()\r\n\r\n// When accessing /posts/1, route.params.id will be 1\r\nconsole.log(route.params.id)\r\n</script>\n","filename":"pages/post/[id].vue","language":"vue","meta":"[pages/post/[id].vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"useRoute"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"()\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-3def03"},"children":[{"type":"text","value":"// When accessing /posts/1, route.params.id will be 1\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"(route.params.id)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/api/composables/use-route"},"children":[]},{"type":"element","tag":"h2","props":{"id":"路由中间件"},"children":[{"type":"text","value":"路由中间件"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt提供了一个可自定义的路由中间件框架，您可以在整个应用程序中使用，非常适合提取在导航到特定路由之前要运行的代码。"}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"路由中间件在您的Nuxt应用程序的Vue部分中运行。尽管名称相似，但它们与服务器中间件完全不同，后者在您应用程序的Nitro服务器部分中运行。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"有三种类型的路由中间件："}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"匿名（或内联）路由中间件，在使用它们的页面中直接定义。"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"命名路由中间件，放置在"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"middleware/"}]},{"type":"text","value":"目录中，当在页面中使用时，将通过异步导入自动加载。（"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"注意"}]},{"type":"text","value":"：路由中间件名称规范化为短横线命名法（kebab-case），因此"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"someMiddleware"}]},{"type":"text","value":"变成"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"some-middleware"}]},{"type":"text","value":"。）"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"全局路由中间件，放置在"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"middleware/"}]},{"type":"text","value":"目录中（带有"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".global"}]},{"type":"text","value":"后缀），并将在每次路由更改时自动运行。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"以下是一个保护"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"/dashboard"}]},{"type":"text","value":"页面的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"auth"}]},{"type":"text","value":"中间件示例："}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"export default defineNuxtRouteMiddleware((to, from) => {\r\n  // isAuthenticated() is an example method verifying if a user is authenticated\r\n  if (isAuthenticated() === false) {\r\n    return navigateTo('/login')\r\n  }\r\n})\n","filename":"middleware/auth.ts","language":"ts","meta":"[middleware/auth.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-238f1d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-238f1d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"defineNuxtRouteMiddleware"}]},{"type":"element","tag":"span","props":{"class":"ct-238f1d"},"children":[{"type":"text","value":"((to, from) "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-238f1d"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3def03"},"children":[{"type":"text","value":"// isAuthenticated() is an example method verifying if a user is authenticated\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"isAuthenticated"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"() "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"==="}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"false"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":") {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"navigateTo"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"'/login'"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-238f1d"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"<script setup>\r\ndefinePageMeta({\r\n  middleware: 'auth'\r\n})\r\n</script>\r\n\r\n<template>\r\n  <h1>Welcome to your dashboard</h1>\r\n</template>\n","filename":"pages/dashboard.vue","language":"html","meta":"[pages/dashboard.vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  middleware: "}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"'auth'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">Welcome to your dashboard</"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"h1"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">"}]}]}]}]}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/guide/directory-structure/middleware"},"children":[]},{"type":"element","tag":"h2","props":{"id":"路由验证"},"children":[{"type":"text","value":"路由验证"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt提供了通过"},{"type":"element","tag":"a","props":{"href":"/docs/api/utils/define-page-meta"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]}]},{"type":"text","value":"中的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"validate"}]},{"type":"text","value":"属性进行路由验证的功能，可以在您想要验证的每个页面中使用。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"validate"}]},{"type":"text","value":"属性接受"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"route"}]},{"type":"text","value":"作为参数。您可以返回一个布尔值来确定是否使用此页面渲染此有效的路由。如果返回"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":"，且找不到其他匹配项，则会导致404错误。您还可以直接返回一个带有"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"statusCode"}]},{"type":"text","value":"/"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"statusMessage"}]},{"type":"text","value":"的对象，以立即响应错误（其他匹配项将不会被检查）。"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如果您有更复杂的用例，则可以使用匿名路由中间件。"}]},{"type":"element","tag":"code","props":{"code":"<script setup>\r\ndefinePageMeta({\r\n  validate: async (route) => {\r\n    // Check if the id is made up of digits\r\n    return /^\\d+$/.test(route.params.id)\r\n  }\r\n})\r\n</script>\n","filename":"pages/post/[id].vue","language":"vue","meta":"[pages/post/[id].vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"validate"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-238f1d"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3def03"},"children":[{"type":"text","value":"// Check if the id is made up of digits\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":" /"}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"^"}]},{"type":"element","tag":"span","props":{"class":"ct-7d358a"},"children":[{"type":"text","value":"\\d"}]},{"type":"element","tag":"span","props":{"class":"ct-3ebdb4"},"children":[{"type":"text","value":"+$"}]},{"type":"element","tag":"span","props":{"class":"ct-2b9ea5"},"children":[{"type":"text","value":"/"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-fb23ed"},"children":[{"type":"text","value":"test"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"(route.params.id)\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"})\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-6ad9a3"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-97a947"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-238f1d{color:#953800}\n.ct-3def03{color:#6E7781}\n.ct-fb23ed{color:#8250DF}\n.ct-3ebdb4{color:#CF222E}\n.ct-7d358a{color:#0550AE}\n.ct-4dba36{color:#82071E}\n.ct-6ad9a3{color:#116329}\n.ct-2b9ea5{color:#0A3069}\n.ct-97a947{color:#24292F}\n.dark .ct-97a947{color:#C9D1D9}\n.dark .ct-2b9ea5{color:#A5D6FF}\n.dark .ct-6ad9a3{color:#7EE787}\n.dark .ct-4dba36{color:#FFA198}\n.dark .ct-7d358a{color:#79C0FF}\n.dark .ct-3ebdb4{color:#FF7B72}\n.dark .ct-fb23ed{color:#D2A8FF}\n.dark .ct-3def03{color:#8B949E}\n.dark .ct-238f1d{color:#FFA657}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"页面","depth":2,"text":"页面"},{"id":"导航","depth":2,"text":"导航"},{"id":"路由参数","depth":2,"text":"路由参数"},{"id":"路由中间件","depth":2,"text":"路由中间件"},{"id":"路由验证","depth":2,"text":"路由验证"}]}},"_type":"markdown","_id":"content:1.getting-started:5.routing.md","_source":"content","_file":"1.getting-started/5.routing.md","_extension":"md"}