{"_path":"/getting-started/testing","_dir":"getting-started","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"测试","description":"如何测试您的Nuxt应用程序。","navigation":{"icon":"uil:check-circle"},"body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"测试"},"children":[{"type":"text","value":"测试"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"如何测试您的Nuxt应用程序。"}]},{"type":"element","tag":"alert","props":{"icon":"👉"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"测试工具仍在开发中，API和行为可能会发生变化。目前，它处于预览阶段，但尚未准备好用于测试生产应用程序。如果您是模块的作者，您可以在"},{"type":"element","tag":"a","props":{"href":"/guide/going-further/modules#testing"},"children":[{"type":"text","value":"Module Author's guide"}]},{"type":"text","value":"中找到更具体的信息。"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在Nuxt 3中，我们重新编写了"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxt/test-utils"}]},{"type":"text","value":"的版本。我们支持"},{"type":"element","tag":"a","props":{"href":"https://github.com/vitest-dev/vitest","rel":["nofollow"]},"children":[{"type":"text","value":"Vitest"}]},{"type":"text","value":"和"},{"type":"element","tag":"a","props":{"href":"https://jestjs.io/","rel":["nofollow"]},"children":[{"type":"text","value":"Jest"}]},{"type":"text","value":"作为测试运行器。"}]},{"type":"element","tag":"h2","props":{"id":"安装"},"children":[{"type":"text","value":"安装"}]},{"type":"element","tag":"code","props":{"code":"yarn add --dev @nuxt/test-utils vitest\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-edb8cd"},"children":[{"type":"text","value":"yarn"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"add"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970f37"},"children":[{"type":"text","value":"--dev"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"@nuxt/test-utils"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"vitest"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"setup"},"children":[{"type":"text","value":"Setup"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在每个使用"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxt/test-utils"}]},{"type":"text","value":"辅助方法的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"describe"}]},{"type":"text","value":"块中，在开始之前，您需要设置测试上下文。"}]},{"type":"element","tag":"code","props":{"code":"import { describe, test } from 'vitest'\r\nimport { setup, $fetch } from '@nuxt/test-utils'\r\n\r\ndescribe('My test', async () => {\r\n  await setup({\r\n    // test context options\r\n  })\r\n\r\n  test('my test', () => {\r\n    // ...\r\n  })\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" { describe, test } "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'vitest'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" { setup, $fetch } "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'@nuxt/test-utils'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-2f0d97"},"children":[{"type":"text","value":"describe"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'My test'"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0d97"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"({\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bb623d"},"children":[{"type":"text","value":"// test context options\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"  })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0d97"},"children":[{"type":"text","value":"test"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'my test'"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":", () "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-bb623d"},"children":[{"type":"text","value":"// ...\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"  })\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在幕后，"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":"在"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beforeAll"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"beforeEach"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"afterEach"}]},{"type":"text","value":"和"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"afterAll"}]},{"type":"text","value":"中执行一些任务，以正确设置Nuxt测试环境。"}]},{"type":"element","tag":"h2","props":{"id":"选项"},"children":[{"type":"text","value":"选项"}]},{"type":"element","tag":"h3","props":{"id":"nuxt配置"},"children":[{"type":"text","value":"Nuxt配置"}]},{"type":"element","tag":"h4","props":{"id":"rootdir"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rootDir"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"将目录路径设置为包含要进行测试的Nuxt应用程序的目录。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'.'"}]}]}]},{"type":"element","tag":"h4","props":{"id":"configfile"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"configFile"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"配置文件的名称。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'nuxt.config'"}]}]}]},{"type":"element","tag":"h3","props":{"id":"setup-timings"},"children":[{"type":"text","value":"Setup Timings"}]},{"type":"element","tag":"h4","props":{"id":"setuptimeout"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setupTimeout"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"设置测试时间（以毫秒为单位），用于完成"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setupTest"}]},{"type":"text","value":"的工作（这可能包括构建或生成Nuxt应用程序的文件，具体取决于传递的选项）。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"number"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"60000"}]}]}]},{"type":"element","tag":"h3","props":{"id":"启用的功能"},"children":[{"type":"text","value":"启用的功能"}]},{"type":"element","tag":"h4","props":{"id":"server"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"是否启动一个服务器来响应测试套件中的请求。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]}]}]},{"type":"element","tag":"h4","props":{"id":"build"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"build"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"是否运行一个单独的构建步骤。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":" ("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":" if "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"browser"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server"}]},{"type":"text","value":" is disabled)"}]}]},{"type":"element","tag":"h4","props":{"id":"browser"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"browser"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"在幕后，Nuxt测试工具使用"},{"type":"element","tag":"a","props":{"href":"https://playwright.dev/","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"playwright"}]}]},{"type":"text","value":"进行浏览器测试。如果设置了此选项，将启动一个浏览器，并可以在后续的测试套件中进行控制。（可在"},{"type":"element","tag":"a","props":{"href":"/guide/going-further/testing"},"children":[{"type":"text","value":"此处"}]},{"type":"text","value":"找到更多信息。）"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"boolean"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]}]}]},{"type":"element","tag":"h4","props":{"id":"browseroptions"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"browserOptions"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: 具有以下属性的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"对象"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"type"}]},{"type":"text","value":": 要启动的浏览器类型 - "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"chromium"}]},{"type":"text","value":"、"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"firefox"}]},{"type":"text","value":"或"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"webkit"}]},{"type":"text","value":"之一"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"launch"}]},{"type":"text","value":": 传递给playwright在启动浏览器时使用的选项的"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"对象"}]},{"type":"text","value":"。请参阅完整的"},{"type":"element","tag":"a","props":{"href":"https://playwright.dev/docs/api/class-browsertype#browser-type-launch","rel":["nofollow"]},"children":[{"type":"text","value":"API"}]},{"type":"text","value":"参考。"}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"runner"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"runner"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"指定测试套件的运行器。当前推荐使用"},{"type":"element","tag":"a","props":{"href":"https://vitest.dev/","rel":["nofollow"]},"children":[{"type":"text","value":"Vitest"}]},{"type":"text","value":"。"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'vitest' | 'jest'"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Default: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"'vitest'"}]}]}]},{"type":"element","tag":"h2","props":{"id":"apis"},"children":[{"type":"text","value":"APIs"}]},{"type":"element","tag":"h3","props":{"id":"用于渲染测试的api"},"children":[{"type":"text","value":"用于渲染测试的API"}]},{"type":"element","tag":"h4","props":{"id":"fetchurl"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$fetch(url)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"获取服务器渲染页面的HTML。"}]},{"type":"element","tag":"code","props":{"code":"import { $fetch } from '@nuxt/test-utils'\r\n\r\nconst html = await $fetch('/')\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" { $fetch } "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'@nuxt/test-utils'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970f37"},"children":[{"type":"text","value":"html"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0d97"},"children":[{"type":"text","value":"$fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"fetchurl-1"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"fetch(url)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"获取服务器渲染页面的响应。"}]},{"type":"element","tag":"code","props":{"code":"import { fetch } from '@nuxt/test-utils'\r\n\r\nconst res = await fetch('/')\r\nconst { body, headers } = res\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" { fetch } "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'@nuxt/test-utils'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970f37"},"children":[{"type":"text","value":"res"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0d97"},"children":[{"type":"text","value":"fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-970f37"},"children":[{"type":"text","value":"body"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-970f37"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" res"}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"urlpath"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url(path)"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"获取给定页面的完整URL（包括测试服务器运行的端口）。"}]},{"type":"element","tag":"code","props":{"code":"import { url } from '@nuxt/test-utils'\r\n\r\nconst pageUrl = url('/page')\r\n// 'http://localhost:6840/page'\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" { url } "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'@nuxt/test-utils'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-970f37"},"children":[{"type":"text","value":"pageUrl"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60bee6"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-2f0d97"},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-c7c71d"},"children":[{"type":"text","value":"'/page'"}]},{"type":"element","tag":"span","props":{"class":"ct-c3dd0c"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-bb623d"},"children":[{"type":"text","value":"// 'http://localhost:6840/page'"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"在浏览器中进行测试"},"children":[{"type":"text","value":"在浏览器中进行测试"}]},{"type":"element","tag":"alert","props":{"icon":"🚧"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"我们正在开发中，请保持关注！"}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-bb623d{color:#6E7781}\n.ct-2f0d97{color:#8250DF}\n.ct-60bee6{color:#CF222E}\n.ct-970f37{color:#0550AE}\n.ct-c7c71d{color:#0A3069}\n.ct-c3dd0c{color:#24292F}\n.ct-edb8cd{color:#953800}\n.dark .ct-edb8cd{color:#FFA657}\n.dark .ct-c3dd0c{color:#C9D1D9}\n.dark .ct-c7c71d{color:#A5D6FF}\n.dark .ct-970f37{color:#79C0FF}\n.dark .ct-60bee6{color:#FF7B72}\n.dark .ct-2f0d97{color:#D2A8FF}\n.dark .ct-bb623d{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"安装","depth":2,"text":"安装"},{"id":"setup","depth":2,"text":"Setup"},{"id":"选项","depth":2,"text":"选项","children":[{"id":"nuxt配置","depth":3,"text":"Nuxt配置"},{"id":"setup-timings","depth":3,"text":"Setup Timings"},{"id":"启用的功能","depth":3,"text":"启用的功能"}]},{"id":"apis","depth":2,"text":"APIs","children":[{"id":"用于渲染测试的api","depth":3,"text":"用于渲染测试的API"}]},{"id":"在浏览器中进行测试","depth":2,"text":"在浏览器中进行测试"}]}},"_type":"markdown","_id":"content:1.getting-started:11.testing.md","_source":"content","_file":"1.getting-started/11.testing.md","_extension":"md"}