{"_path":"/api/composables/use-fetch","_dir":"composables","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"useFetch","description":"This composable provides a convenient wrapper around useAsyncData and $fetch.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"usefetch"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This composable provides a convenient wrapper around "},{"type":"element","tag":"a","props":{"href":"/api/composables/use-async-data"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"/api/utils/dollarfetch"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"$fetch"}]}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It automatically generates a key based on URL and fetch options, provides type hints for request url based on server routes, and infers API response type."}]},{"type":"element","tag":"h2","props":{"id":"type"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"code","props":{"code":"function useFetch(\r\n  url: string | Request | Ref<string | Request> | () => string | Request,\r\n  options?: UseFetchOptions<DataT>\r\n): Promise<AsyncData<DataT>>\r\n\r\ntype UseFetchOptions = {\r\n  key?: string\r\n  method?: string\r\n  query?: SearchParams\r\n  params?: SearchParams\r\n  body?: RequestInit['body'] | Record<string, any>\r\n  headers?: { key: string, value: string }[]\r\n  baseURL?: string\r\n  server?: boolean\r\n  lazy?: boolean\r\n  immediate?: boolean\r\n  default?: () => DataT\r\n  transform?: (input: DataT) => DataT\r\n  pick?: string[]\r\n  watch?: WatchSource[]\r\n}\r\n\r\ntype AsyncData<DataT> = {\r\n  data: Ref<DataT>\r\n  pending: Ref<boolean>\r\n  refresh: (opts?: { dedupe?: boolean }) => Promise<void>\r\n  execute: () => Promise<void>\r\n  error: Ref<Error | boolean>\r\n}\n","filename":"Signature","language":"ts","meta":"[Signature]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"(\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"url"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Request"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Ref"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Request"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Request"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"options"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"UseFetchOptions"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"DataT"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Promise"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"AsyncData"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"DataT"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">>\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"UseFetchOptions"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"method"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"query"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"SearchParams\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"params"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"SearchParams\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"body"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"RequestInit"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"["}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'body'"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"] "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Record"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"any"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"headers"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"value"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" }[]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"baseURL"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"server"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"lazy"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"immediate"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"boolean\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"DataT\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":18},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"transform"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"input"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"DataT"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"DataT\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":19},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"pick"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"[]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":20},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"watch"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"WatchSource"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"[]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":21},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":22},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":23},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"type"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"AsyncData"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"DataT"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"> "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":24},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Ref"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"DataT"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":25},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"pending"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Ref"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"boolean"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":26},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"opts"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"dedupe"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"boolean"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Promise"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":27},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"execute"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Promise"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"void"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":28},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Ref"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"Error"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"boolean"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":29},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"params"},"children":[{"type":"text","value":"Params"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"URL"}]},{"type":"text","value":": The URL to fetch."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Options (extends "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/ofetch"}]},{"type":"text","value":" options & "},{"type":"element","tag":"a","props":{"href":"/api/composables/use-async-data#params"},"children":[{"type":"text","value":"AsyncDataOptions"}]},{"type":"text","value":")"}]},{"type":"text","value":":"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"method"}]},{"type":"text","value":": Request method."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"query"}]},{"type":"text","value":": Adds query search params to URL using "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/ufo","rel":["nofollow"]},"children":[{"type":"text","value":"ufo"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"params"}]},{"type":"text","value":": Alias for "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"query"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"body"}]},{"type":"text","value":": Request body - automatically stringified (if an object is passed)."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"headers"}]},{"type":"text","value":": Request headers."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"baseURL"}]},{"type":"text","value":": Base URL for the request."}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"All fetch options can be given a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"computed"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"ref"}]},{"type":"text","value":" value. These will be watched and new requests made automatically with any new values if they are updated."}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Options (from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":")"}]},{"type":"text","value":":"},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"key"}]},{"type":"text","value":": a unique key to ensure that data fetching can be properly de-duplicated across requests, if not provided, it will be generated based on the static code location where "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useAsyncData"}]},{"type":"text","value":" is used."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server"}]},{"type":"text","value":": Whether to fetch the data on the server (defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":")."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"default"}]},{"type":"text","value":": A factory function to set the default value of the data, before the async function resolves - particularly useful with the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lazy: true"}]},{"type":"text","value":" option."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pick"}]},{"type":"text","value":": Only pick specified keys in this array from the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"handler"}]},{"type":"text","value":" function result."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"watch"}]},{"type":"text","value":": watch reactive sources to auto-refresh."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"transform"}]},{"type":"text","value":": A function that can be used to alter "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"handler"}]},{"type":"text","value":" function result after resolving."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"immediate"}]},{"type":"text","value":": When set to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"false"}]},{"type":"text","value":", will prevent the request from firing immediately. (defaults to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":")"}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you provide a function or ref as the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"url"}]},{"type":"text","value":" parameter, or if you provide functions as arguments to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options"}]},{"type":"text","value":" parameter, then the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" call will not match other "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" calls elsewhere in your codebase, even if the options seem to be identical. If you wish to force a match, you may provide your own key in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"options"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"return-values"},"children":[{"type":"text","value":"Return Values"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"data"}]},{"type":"text","value":": the result of the asynchronous function that is passed in."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"pending"}]},{"type":"text","value":": a boolean indicating whether the data is still being fetched."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"refresh"}]},{"type":"text","value":"/"},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"execute"}]},{"type":"text","value":" : a function that can be used to refresh the data returned by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"handler"}]},{"type":"text","value":" function."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"error"}]},{"type":"text","value":": an error object if the data fetching failed."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default, Nuxt waits until a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"refresh"}]},{"type":"text","value":" is finished before it can be executed again."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you have not fetched data on the server (for example, with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"server: false"}]},{"type":"text","value":"), then the data "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"will not"}]},{"type":"text","value":" be fetched until hydration completes. This means even if you await "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" on client-side, "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"data"}]},{"type":"text","value":" will remain null within "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<script setup>"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"const { data, pending, error, refresh } = await useFetch('https://api.nuxtjs.dev/mountains',{\r\n    pick: ['title']\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"pending"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'https://api.nuxtjs.dev/mountains'"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":",{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    pick: ["}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'title'"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"]\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Adding Query Search Params:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"query"}]},{"type":"text","value":" option, you can add search parameters to your query. This option is extended from "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/ofetch","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/ofetch"}]},{"type":"text","value":" and is using "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/ufo","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/ufo"}]},{"type":"text","value":" to create the URL. Objects are automatically stringified."}]},{"type":"element","tag":"code","props":{"code":"const param1 = ref('value1')\r\nconst { data, pending, error, refresh } = await useFetch('https://api.nuxtjs.dev/mountains',{\r\n    query: { param1, param2: 'value2' }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"param1"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"ref"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'value1'"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":")\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"pending"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'https://api.nuxtjs.dev/mountains'"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":",{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    query: { param1, param2: "}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'value2'"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Results in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"https://api.nuxtjs.dev/mountains?param1=value1&param2=value2"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Using "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/ofetch#%EF%B8%8F-interceptors","rel":["nofollow"]},"children":[{"type":"text","value":"interceptors"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"const { data, pending, error, refresh } = await useFetch('/api/auth/login', {\r\n  onRequest({ request, options }) {\r\n    // Set the request headers\r\n    options.headers = options.headers || {}\r\n    options.headers.authorization = '...'\r\n  },\r\n  onRequestError({ request, options, error }) {\r\n    // Handle the request errors\r\n  },\r\n  onResponse({ request, response, options }) {\r\n    // Process the response data\r\n    return response._data\r\n  },\r\n  onResponseError({ request, response, options }) {\r\n    // Handle the response errors\r\n  }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"pending"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-8a2840"},"children":[{"type":"text","value":"refresh"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"useFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'/api/auth/login'"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"onRequest"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"options"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" }) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-750ef0"},"children":[{"type":"text","value":"// Set the request headers\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    options.headers "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" options.headers "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" {}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    options.headers.authorization "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-b723a7"},"children":[{"type":"text","value":"'...'\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"onRequestError"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"options"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"error"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" }) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-750ef0"},"children":[{"type":"text","value":"// Handle the request errors\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"onResponse"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"options"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" }) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-750ef0"},"children":[{"type":"text","value":"// Process the response data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-206d58"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" response._data\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  },\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-36242e"},"children":[{"type":"text","value":"onResponseError"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"({ "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"request"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-f3ce27"},"children":[{"type":"text","value":"options"}]},{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":" }) {\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-750ef0"},"children":[{"type":"text","value":"// Handle the response errors\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"  }\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":17},"children":[{"type":"element","tag":"span","props":{"class":"ct-770e7c"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" is a reserved function name transformed by the compiler, so you should not name your own function "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/getting-started/data-fetching"},"children":[]},{"type":"element","tag":"link-example","props":{"link":"/docs/examples/composables/use-fetch"},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-750ef0{color:#6E7781}\n.ct-b723a7{color:#0A3069}\n.ct-8a2840{color:#0550AE}\n.ct-f3ce27{color:#953800}\n.ct-36242e{color:#8250DF}\n.ct-770e7c{color:#24292F}\n.ct-206d58{color:#CF222E}\n.dark .ct-206d58{color:#FF7B72}\n.dark .ct-770e7c{color:#C9D1D9}\n.dark .ct-36242e{color:#D2A8FF}\n.dark .ct-f3ce27{color:#FFA657}\n.dark .ct-8a2840{color:#79C0FF}\n.dark .ct-b723a7{color:#A5D6FF}\n.dark .ct-750ef0{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"type","depth":2,"text":"Type"},{"id":"params","depth":2,"text":"Params"},{"id":"return-values","depth":2,"text":"Return Values"},{"id":"example","depth":2,"text":"Example"}]}},"_type":"markdown","_id":"content:3.api:1.composables:use-fetch.md","_source":"content","_file":"3.api/1.composables/use-fetch.md","_extension":"md"}