---
navigation.icon: uil:database
description: Nuxt provides useState composable to create a reactive and SSR-friendly shared state.
---

# çŠ¶æ€ç®¡ç†

Nuxtæä¾›äº†useStateç»„åˆå‡½æ•°ï¼Œç”¨äºåœ¨ç»„ä»¶ä¹‹é—´åˆ›å»ºå…·æœ‰å“åº”æ€§å’ŒæœåŠ¡å™¨ç«¯æ¸²æŸ“å‹å¥½çš„å…±äº«çŠ¶æ€ã€‚

`useStateæ˜¯`ä¸€ä¸ªé€‚ç”¨äºæœåŠ¡å™¨ç«¯æ¸²æŸ“çš„[`ref`](https://vuejs.org/api/reactivity-core.html#ref)æ›¿ä»£æ–¹æ¡ˆã€‚å®ƒçš„å€¼åœ¨æœåŠ¡å™¨ç«¯æ¸²æŸ“åï¼ˆåœ¨å®¢æˆ·ç«¯æ°´åˆæœŸé—´ï¼‰å°†è¢«ä¿ç•™ï¼Œå¹¶é€šè¿‡å”¯ä¸€é”®åœ¨æ‰€æœ‰ç»„ä»¶ä¹‹é—´å…±äº«ã€‚

::ReadMore{link="/docs/api/composables/use-state"}
::

::alert{icon=ğŸ‘‰}
`useState`ä»…åœ¨`setup`æˆ–[`ç”Ÿå‘½å‘¨æœŸé’©å­`](https://vuejs.org/api/composition-api-lifecycle.html#composition-api-lifecycle-hooks)æœŸé—´æœ‰æ•ˆã€‚
::
::alert{type=warning}
ç”±äº`useState`ä¸­çš„æ•°æ®å°†è¢«åºåˆ—åŒ–ä¸ºJSONï¼Œå› æ­¤é‡è¦çš„æ˜¯å®ƒä¸åŒ…å«ä»»ä½•æ— æ³•åºåˆ—åŒ–çš„å†…å®¹ï¼Œå¦‚ç±»ã€å‡½æ•°æˆ–ç¬¦å·ã€‚
::

## æœ€ä½³å®è·µ

::alert{type=danger icon=ğŸš¨}
æ°¸è¿œä¸è¦åœ¨`<script setup>`æˆ–`setup()`å‡½æ•°ä¹‹å¤–å®šä¹‰`const state = ref()`ã€‚.<br>
è¿™æ ·çš„çŠ¶æ€å°†åœ¨æ‰€æœ‰è®¿é—®æ‚¨ç½‘ç«™çš„ç”¨æˆ·ä¹‹é—´å…±äº«ï¼Œå¹¶å¯èƒ½å¯¼è‡´å†…å­˜æ³„æ¼ï¼
::
::alert{type=success icon=âœ…}
è€Œæ˜¯ä½¿ç”¨`const useX = () => useState('x')`ã€‚
::

## ç¤ºä¾‹

### åŸºç¡€ç”¨æ³•

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç»„ä»¶æœ¬åœ°çš„è®¡æ•°å™¨çŠ¶æ€ã€‚ä½¿ç”¨`useState('counter')`çš„ä»»ä½•å…¶ä»–ç»„ä»¶éƒ½å…±äº«ç›¸åŒçš„å“åº”å¼çŠ¶æ€ã€‚

```vue [app.vue]
<script setup>
const counter = useState('counter', () => Math.round(Math.random() * 1000))
</script>

<template>
  <div>
    Counter: {{ counter }}
    <button @click="counter++">
      +
    </button>
    <button @click="counter--">
      -
    </button>
  </div>
</template>
```

::LinkExample{link="/docs/examples/composables/use-state"}
::

::ReadMore{link="/docs/api/composables/use-state"}
::

### é«˜çº§ç”¨æ³•

åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç»„åˆå‡½æ•°æ¥ä»HTTPè¯·æ±‚å¤´ä¸­æ£€æµ‹ç”¨æˆ·çš„é»˜è®¤åŒºåŸŸè®¾ç½®ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ä¸€ä¸ª`locale`çŠ¶æ€ä¸­ã€‚

::LinkExample{link="/docs/examples/other/locale"}
::

## å…±äº«çŠ¶æ€

é€šè¿‡ä½¿ç”¨[è‡ªåŠ¨å¯¼å…¥çš„ç»„åˆå‡½æ•°](/docs/guide/directory-structure/composables)ï¼Œæˆ‘ä»¬å¯ä»¥å®šä¹‰å…¨å±€ç±»å‹å®‰å…¨çš„çŠ¶æ€ï¼Œå¹¶åœ¨æ•´ä¸ªåº”ç”¨ç¨‹åºä¸­è¿›è¡Œå¯¼å…¥ã€‚

```ts [composables/states.ts]
export const useCounter = () => useState<number>('counter', () => 0)
export const useColor = () => useState<string>('color', () => 'pink')
```

```vue [app.vue]
<script setup>
const color = useColor() // Same as useState('color')
</script>

<template>
  <p>Current color: {{ color }}</p>
</template>
```
