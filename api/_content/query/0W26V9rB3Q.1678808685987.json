{"_path":"/api/utils/abort-navigation","_dir":"utils","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"abortNavigation","description":"abortNavigation is a helper function that prevents navigation from taking place and throws an error if one is set as a parameter.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"abortnavigation"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"abortNavigation"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"text","value":" is a helper function that prevents navigation from taking place and throws an error if one is set as a parameter."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"text","value":" is only usable inside a "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/middleware"},"children":[{"type":"text","value":"route middleware handler"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"type"},"children":[{"type":"text","value":"Type"}]},{"type":"element","tag":"code","props":{"code":"abortNavigation(err?: Error | string): false\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"(err"}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"?:"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" Error "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"|"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" string): "}]},{"type":"element","tag":"span","props":{"class":"ct-641cbf"},"children":[{"type":"text","value":"false"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"parameters"},"children":[{"type":"text","value":"Parameters"}]},{"type":"element","tag":"h3","props":{"id":"err"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"err"}]}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Type"}]},{"type":"text","value":": "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/pl/docs/Web/JavaScript/Reference/Global_Objects/Error","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Error"}]}]},{"type":"text","value":" | "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"string"}]},{"type":"element","tag":"br","props":{},"children":[]},{"type":"text","value":"Optional error to be thrown byÂ "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The example below shows how you can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"text","value":" in a route middleware to prevent unauthorized route access:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtRouteMiddleware((to, from) => {\r\n  const user = useState('user')\r\n\r\n  if (!user.value.isAuthorized) {\r\n    return abortNavigation()\r\n  }\r\n \r\n  return navigateTo('/edit-post')\r\n})\n","filename":"middleware/auth.ts","language":"ts","meta":"[middleware/auth.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"defineNuxtRouteMiddleware"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":"((to, from) "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-641cbf"},"children":[{"type":"text","value":"user"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"useState"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-777700"},"children":[{"type":"text","value":"'user'"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"user.value.isAuthorized) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"navigateTo"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-777700"},"children":[{"type":"text","value":"'/edit-post'"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"err-as-a-string"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"err"}]},{"type":"text","value":" as a String"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can pass the error as a string:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtRouteMiddleware((to, from) => {\r\n  const auth = useState('auth')\r\n\r\n  if (!user.value.isAuthorized) {\r\n    abortNavigation('Insufficient permissions.')\r\n  }\r\n})\n","filename":"middleware/auth.ts","language":"ts","meta":"[middleware/auth.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"defineNuxtRouteMiddleware"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":"((to, from) "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-641cbf"},"children":[{"type":"text","value":"auth"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"useState"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-777700"},"children":[{"type":"text","value":"'auth'"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"!"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"user.value.isAuthorized) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-777700"},"children":[{"type":"text","value":"'Insufficient permissions.'"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"err-as-an-error-object"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"err"}]},{"type":"text","value":" as an Error Object"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can pass the error as an "},{"type":"element","tag":"a","props":{"href":"https://developer.mozilla.org/pl/docs/Web/JavaScript/Reference/Global_Objects/Error","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Error"}]}]},{"type":"text","value":" object, e.g. caught by the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"catch"}]},{"type":"text","value":"-block:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtRouteMiddleware((to, from) => {\r\n  try {\r\n    /* code that might throw an error */\r\n  } catch (err) {\r\n    abortNavigation(err)\r\n  }\r\n})\n","filename":"middleware/auth.ts","language":"ts","meta":"[middleware/auth.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"defineNuxtRouteMiddleware"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":"((to, from) "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"try"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5f149a"},"children":[{"type":"text","value":"/* code that might throw an error */"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  } "}]},{"type":"element","tag":"span","props":{"class":"ct-3873d9"},"children":[{"type":"text","value":"catch"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":" (err) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-18a87b"},"children":[{"type":"text","value":"abortNavigation"}]},{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"(err)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fc0389"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-67a63e"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-5f149a{color:#6E7781}\n.ct-777700{color:#0A3069}\n.ct-67a63e{color:#953800}\n.ct-641cbf{color:#0550AE}\n.ct-3873d9{color:#CF222E}\n.ct-fc0389{color:#24292F}\n.ct-18a87b{color:#8250DF}\n.dark .ct-18a87b{color:#D2A8FF}\n.dark .ct-fc0389{color:#C9D1D9}\n.dark .ct-3873d9{color:#FF7B72}\n.dark .ct-641cbf{color:#79C0FF}\n.dark .ct-67a63e{color:#FFA657}\n.dark .ct-777700{color:#A5D6FF}\n.dark .ct-5f149a{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"type","depth":2,"text":"Type"},{"id":"parameters","depth":2,"text":"Parameters","children":[{"id":"err","depth":3,"text":"err"}]},{"id":"examples","depth":2,"text":"Examples","children":[{"id":"err-as-a-string","depth":3,"text":"err as a String"},{"id":"err-as-an-error-object","depth":3,"text":"err as an Error Object"}]}]}},"_type":"markdown","_id":"content:3.api:3.utils:abort-navigation.md","_source":"content","_file":"3.api/3.utils/abort-navigation.md","_extension":"md"}