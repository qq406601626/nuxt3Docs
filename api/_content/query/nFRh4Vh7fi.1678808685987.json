{"_path":"/guide/going-further/runtime-config","_dir":"going-further","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Runtime Config","description":"Nuxt provides a runtime config API to expose configuration within your application.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"runtime-config"},"children":[{"type":"text","value":"Runtime Config"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt provides a runtime config API to expose configuration within your application and server routes, with the ability to update it at runtime by setting environment variables."}]},{"type":"element","tag":"h2","props":{"id":"exposing-runtime-config"},"children":[{"type":"text","value":"Exposing Runtime Config"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To expose config and environment variables to the rest of your app, you will need to define runtime configuration in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":" file, using the "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/nuxt.config#runtimeconfig"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"runtimeConfig"}]},{"type":"text","value":" option"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Example:"}]}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\r\n  runtimeConfig: {\r\n    // The private keys which are only available within server-side\r\n    apiSecret: '123',\r\n    // Keys within public, will be also exposed to the client-side\r\n    public: {\r\n      apiBase: '/api'\r\n    }\r\n  }\r\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"[nuxt.config.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"runtimeConfig: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fd1d95"},"children":[{"type":"text","value":"// The private keys which are only available within server-side"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    apiSecret: "}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"'123'"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-fd1d95"},"children":[{"type":"text","value":"// Keys within public, will be also exposed to the client-side"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    public: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"      apiBase: "}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"'/api'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When adding "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"apiBase"}]},{"type":"text","value":" to the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"runtimeConfig.public"}]},{"type":"text","value":", Nuxt adds it to each page payload. We can universally access "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"apiBase"}]},{"type":"text","value":" in both server and browser."}]},{"type":"element","tag":"code","props":{"code":"const runtimeConfig = useRuntimeConfig()\r\n\r\nconsole.log(runtimeConfig.apiSecret)\r\nconsole.log(runtimeConfig.public.apiBase)\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36e2ec"},"children":[{"type":"text","value":"runtimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"(runtimeConfig.apiSecret)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"(runtimeConfig.public.apiBase)"}]}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"info"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When using Options API the public runtime config is available via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"this.$config.public"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"serialization"},"children":[{"type":"text","value":"Serialization"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Your runtime config will be serialized before being passed to Nitro. This means that anything that cannot be serialized and then deserialized (such as functions, Sets, Maps, and so on), should not be set in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Instead of passing non-serializable objects or functions into your application from your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":", you can place this code in a Nuxt or Nitro plugin or middleware."}]},{"type":"element","tag":"h3","props":{"id":"environment-variables"},"children":[{"type":"text","value":"Environment Variables"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The most common way to provide configuration is by using "},{"type":"element","tag":"a","props":{"href":"https://medium.com/chingu/an-introduction-to-environment-variables-and-how-to-use-them-f602f66d15fa","rel":["nofollow"]},"children":[{"type":"text","value":"Environment Variables"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxi CLI has built-in support for reading your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file in development, build and generate. But when you run your built server, "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":".env"}]},{"type":"text","value":" file will not be read"}]},{"type":"text","value":"."}]},{"type":"element","tag":"read-more","props":{"link":"/docs/guide/directory-structure/env"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Runtime config values are automatically replaced by matching environment variables at runtime. There are two key requirements."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Your desired variables must be defined in your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]},{"type":"text","value":". This ensures that arbitrary environment variables are not exposed to your application code."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Only a specially-named environment variable can override a runtime config property. That is, an uppercase environment variable starting with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"NUXT_"}]},{"type":"text","value":" which uses "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_"}]},{"type":"text","value":" to separate keys and case changes."}]}]},{"type":"element","tag":"h4","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"NUXT_API_SECRET=api_secret_token\r\nNUXT_PUBLIC_API_BASE=https://nuxtjs.org\n","filename":".env","language":"sh","meta":"[.env]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"NUXT_API_SECRET"}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"api_secret_token"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"NUXT_PUBLIC_API_BASE"}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"https://nuxtjs.org"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\r\n  runtimeConfig: {\r\n    apiSecret: '', // can be overridden by NUXT_API_SECRET environment variable\r\n    public: {\r\n      apiBase: '', // can be overridden by NUXT_PUBLIC_API_BASE environment variable\r\n    }\r\n  },\r\n})\n","filename":"nuxt.config.ts","language":"ts","meta":"[nuxt.config.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"runtimeConfig: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    apiSecret: "}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-fd1d95"},"children":[{"type":"text","value":"// can be overridden by NUXT_API_SECRET environment variable"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    public: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"      apiBase: "}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-fd1d95"},"children":[{"type":"text","value":"// can be overridden by NUXT_PUBLIC_API_BASE environment variable"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"accessing-runtime-config"},"children":[{"type":"text","value":"Accessing Runtime Config"}]},{"type":"element","tag":"h3","props":{"id":"vue-app"},"children":[{"type":"text","value":"Vue App"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Within the Vue part of your Nuxt app, you will need to call "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRuntimeConfig()"}]},{"type":"text","value":" to access the runtime config."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" Behavior is different between the client-side and server-side:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"On the client-side, only keys in "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"public"}]},{"type":"text","value":" are available, and the object is both writable and reactive.\r\nThe entire runtime config is available on the server-side, but it is read-only to avoid context sharing."}]}]},{"type":"element","tag":"code","props":{"code":"<template>\r\n  <div>\r\n    <div>Check developer console!</div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst config = useRuntimeConfig()\r\nconsole.log('Runtime config:', config)\r\nif (process.server) {\r\n  console.log('API secret:', config.apiSecret)\r\n}\r\n</script>\n","language":"vue","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">Check developer console!</"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36e2ec"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36e2ec"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"console."}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"'Runtime config:'"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":", config)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"if"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" (process.server) {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  console."}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"'API secret:'"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":", config.apiSecret)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-4b875b"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"ðŸ›‘ Security note:"}]},{"type":"text","value":" Be careful not to expose runtime config keys to the client-side by either rendering them or passing them to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useState"}]},{"type":"text","value":"."}]},{"type":"element","tag":"alert","props":{"icon":"ðŸ‘‰"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"text","value":" only works during "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"Lifecycle Hooks"}]}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"plugins"},"children":[{"type":"text","value":"Plugins"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to use the runtime config within any (custom) plugin, you can use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRuntimeConfig()"}]},{"type":"text","value":" inside of your "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defineNuxtPlugin"}]},{"type":"text","value":" function."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For Example:"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtPlugin((nuxtApp) => {\r\n  const config = useRuntimeConfig()\r\n  console.log('API base URL:', config.public.apiBase)\r\n});\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"defineNuxtPlugin"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"((nuxtApp) "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36e2ec"},"children":[{"type":"text","value":"config"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"()"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  console."}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"'API base URL:'"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":", config.public.apiBase)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":")"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":";"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"server-routes"},"children":[{"type":"text","value":"Server Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can access runtime config within the server routes as well using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"export default async () => {\r\n  const result = await $fetch('https://my.api.com/test', {\r\n    headers: {\r\n      Authorization: `Bearer ${useRuntimeConfig().apiSecret}`\r\n    }\r\n  })\r\n  return result\r\n}\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36e2ec"},"children":[{"type":"text","value":"result"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"$fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"'https://my.api.com/test'"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":", {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    headers: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"      Authorization: "}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"`Bearer ${"}]},{"type":"element","tag":"span","props":{"class":"ct-8a6761"},"children":[{"type":"text","value":"useRuntimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"()."}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"apiSecret"}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"}`"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" result"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"manually-typing-runtime-config"},"children":[{"type":"text","value":"Manually Typing Runtime Config"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt tries to automatically generate a typescript interface from provided runtime config using "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/untyped","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/untyped"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is also possible to type your runtime config manually:"}]},{"type":"element","tag":"code","props":{"code":"declare module 'nuxt/schema' {\r\n  interface RuntimeConfig {\r\n    apiSecret: string\r\n    public: {\r\n      apiBase: string\r\n    }\r\n  }\r\n}\r\n// It is always important to ensure you import/export something when augmenting a type\r\nexport {}\n","filename":"index.d.ts","language":"ts","meta":"[index.d.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"declare"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"module"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-bc0183"},"children":[{"type":"text","value":"'nuxt/schema'"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"interface"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"RuntimeConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"apiSecret"}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36e2ec"},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"public"}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-4fb3b1"},"children":[{"type":"text","value":"apiBase"}]},{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":":"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-36e2ec"},"children":[{"type":"text","value":"string"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-fd1d95"},"children":[{"type":"text","value":"// It is always important to ensure you import/export something when augmenting a type"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-198ad8"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-dfb2da"},"children":[{"type":"text","value":" {}"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-4b875b{color:#116329}\n.ct-36e2ec{color:#0550AE}\n.ct-bc0183{color:#0A3069}\n.ct-fd1d95{color:#6E7781}\n.ct-dfb2da{color:#24292F}\n.ct-8a6761{color:#8250DF}\n.ct-4fb3b1{color:#953800}\n.ct-198ad8{color:#CF222E}\n.dark .ct-198ad8{color:#FF7B72}\n.dark .ct-4fb3b1{color:#FFA657}\n.dark .ct-8a6761{color:#D2A8FF}\n.dark .ct-dfb2da{color:#C9D1D9}\n.dark .ct-fd1d95{color:#8B949E}\n.dark .ct-bc0183{color:#A5D6FF}\n.dark .ct-36e2ec{color:#79C0FF}\n.dark .ct-4b875b{color:#7EE787}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"exposing-runtime-config","depth":2,"text":"Exposing Runtime Config","children":[{"id":"serialization","depth":3,"text":"Serialization"},{"id":"environment-variables","depth":3,"text":"Environment Variables"}]},{"id":"accessing-runtime-config","depth":2,"text":"Accessing Runtime Config","children":[{"id":"vue-app","depth":3,"text":"Vue App"},{"id":"plugins","depth":3,"text":"Plugins"},{"id":"server-routes","depth":3,"text":"Server Routes"},{"id":"manually-typing-runtime-config","depth":3,"text":"Manually Typing Runtime Config"}]}]}},"_type":"markdown","_id":"content:2.guide:3.going-further:10.runtime-config.md","_source":"content","_file":"2.guide/3.going-further/10.runtime-config.md","_extension":"md"}