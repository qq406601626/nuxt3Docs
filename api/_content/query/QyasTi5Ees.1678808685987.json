{"_path":"/api/composables/use-lazy-fetch","_dir":"composables","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"useLazyFetch","description":"This wrapper around useFetch triggers navigation immediately.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"uselazyfetch"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useLazyFetch"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useLazyFetch"}]},{"type":"text","value":" provides a wrapper around "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" that triggers navigation before the handler is resolved by setting the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"lazy"}]},{"type":"text","value":" option to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"true"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"description"},"children":[{"type":"text","value":"Description"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By default, "},{"type":"element","tag":"a","props":{"href":"/docs/api/composables/use-fetch"},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":" blocks navigation until its async handler is resolved."}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useLazyFetch"}]},{"type":"text","value":" has the same signature as "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFetch"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/api/composables/use-fetch"},"children":[]},{"type":"element","tag":"h2","props":{"id":"example"},"children":[{"type":"text","value":"Example"}]},{"type":"element","tag":"code","props":{"code":"<template>\r\n  <div v-if=\"pending\">\r\n    Loading ...\r\n  </div>\r\n  <div v-else>\r\n    <div v-for=\"post in posts\">\r\n      <!-- do something -->\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n/* Navigation will occur before fetching is complete.\r\n  Handle pending and error states directly within your component's template\r\n*/\r\nconst { pending, data: posts } = useLazyFetch('/api/posts')\r\nwatch(posts, (newPosts) => {\r\n  // Because posts starts out null, you won't have access\r\n  // to its contents immediately, but you can watch it.\r\n})\r\n</script>\n","language":"vue","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b171f"},"children":[{"type":"text","value":"v-if"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-a35378"},"children":[{"type":"text","value":"\"pending\""}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"    Loading ..."}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b171f"},"children":[{"type":"text","value":"v-else"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b171f"},"children":[{"type":"text","value":"v-for"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-a35378"},"children":[{"type":"text","value":"\"post in posts\""}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-120b49"},"children":[{"type":"text","value":"<!-- do something -->"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"    </"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-5b171f"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-120b49"},"children":[{"type":"text","value":"/* Navigation will occur before fetching is complete."}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-120b49"},"children":[{"type":"text","value":"  Handle pending and error states directly within your component's template"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-120b49"},"children":[{"type":"text","value":"*/"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-46a7b1"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-5b171f"},"children":[{"type":"text","value":"pending"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-d84c31"},"children":[{"type":"text","value":"data"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-5b171f"},"children":[{"type":"text","value":"posts"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-46a7b1"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-69da1f"},"children":[{"type":"text","value":"useLazyFetch"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-a35378"},"children":[{"type":"text","value":"'/api/posts'"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-69da1f"},"children":[{"type":"text","value":"watch"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"(posts, ("}]},{"type":"element","tag":"span","props":{"class":"ct-d84c31"},"children":[{"type":"text","value":"newPosts"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-46a7b1"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-120b49"},"children":[{"type":"text","value":"// Because posts starts out null, you won't have access"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-120b49"},"children":[{"type":"text","value":"// to its contents immediately, but you can watch it."}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-86030a"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-43ab3b"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useLazyFetch"}]},{"type":"text","value":" is a reserved function name transformed by the compiler, so you should not name your own function "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useLazyFetch"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/getting-started/data-fetching#uselazyfetch"},"children":[]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-69da1f{color:#8250DF}\n.ct-d84c31{color:#953800}\n.ct-46a7b1{color:#CF222E}\n.ct-120b49{color:#6E7781}\n.ct-a35378{color:#0A3069}\n.ct-5b171f{color:#0550AE}\n.ct-86030a{color:#116329}\n.ct-43ab3b{color:#24292F}\n.dark .ct-43ab3b{color:#C9D1D9}\n.dark .ct-86030a{color:#7EE787}\n.dark .ct-5b171f{color:#79C0FF}\n.dark .ct-a35378{color:#A5D6FF}\n.dark .ct-120b49{color:#8B949E}\n.dark .ct-46a7b1{color:#FF7B72}\n.dark .ct-d84c31{color:#FFA657}\n.dark .ct-69da1f{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"description","depth":2,"text":"Description"},{"id":"example","depth":2,"text":"Example"}]}},"_type":"markdown","_id":"content:3.api:1.composables:use-lazy-fetch.md","_source":"content","_file":"3.api/1.composables/use-lazy-fetch.md","_extension":"md"}