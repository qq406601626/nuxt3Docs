{"_path":"/guide/going-further/modules","_dir":"going-further","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Module Author Guide","description":"Learn how to create a Nuxt module.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"module-author-guide"},"children":[{"type":"text","value":"Module Author Guide"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A powerful configuration and hooks system makes it possible to customize almost every aspect of Nuxt Framework and add endless possible integrations when it comes to customization."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt provides a zero-config experience with a preset of integrations and best practices to develop Web applications.\r\nA powerful configuration and hooks system makes it possible to customize almost every aspect of Nuxt Framework and add endless possible integrations when it comes to customization. You can learn more about how Nuxt works in the "},{"type":"element","tag":"a","props":{"href":"/docs/guide/going-further/internals"},"children":[{"type":"text","value":"Nuxt internals"}]},{"type":"text","value":" section."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt exposes a powerful API called "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Nuxt Modules"}]},{"type":"text","value":". Nuxt modules are simple async functions that sequentially run when starting Nuxt in development mode using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxi dev"}]},{"type":"text","value":" or building a project for production with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxi build"}]},{"type":"text","value":".\r\nUsing Nuxt Modules, we can encapsulate, properly test and share custom solutions as npm packages without adding unnecessary boilerplate to the Nuxt project itself."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt Modules can hook into lifecycle events of Nuxt builder, provide runtime app templates, update the configuration or do any other custom action based on needs."}]},{"type":"element","tag":"h2","props":{"id":"quick-start"},"children":[{"type":"text","value":"Quick Start"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For the impatient ones, You can quickly start with "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/module-builder","rel":["nofollow"]},"children":[{"type":"text","value":"module-builder"}]},{"type":"text","value":" and "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/starter/tree/module","rel":["nofollow"]},"children":[{"type":"text","value":"module starter template"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"npx nuxi init -t module my-module\n","language":"bash","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"npx"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"nuxi"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"init"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"-t"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"module"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"my-module"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Starter template and module starter is a standard path of creating a Nuxt module."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Next steps:"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Open "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"my-module"}]},{"type":"text","value":" in the IDE of your choice (Visual Studio Code is recommended)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Install dependencies using the package manager of your choice (Yarn is recommended)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ensure local files are generated using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run dev:prepare"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Start playground using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm run dev"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Follow this document to learn more about Nuxt modules"}]}]},{"type":"element","tag":"alert","props":{"type":"info","icon":"ðŸš§"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is an under-the-progress guide. Please regularly check for updates."}]}]},{"type":"element","tag":"h2","props":{"id":"module-anatomy"},"children":[{"type":"text","value":"Module Anatomy"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A Nuxt module is a simple function accepting inline user options and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt"}]},{"type":"text","value":" arguments."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It is totally up to you, as the module author, how to handle the rest of the logic."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Starting with Nuxt 3, modules can benefit all "},{"type":"element","tag":"a","props":{"href":"/docs/api/advanced/kit"},"children":[{"type":"text","value":"Nuxt Kit"}]},{"type":"text","value":" utilities."}]},{"type":"element","tag":"code","props":{"code":"// modules/module.mjs\r\nexport default async (inlineOptions, nuxt) => {\r\n  // You can do whatever you like here..\r\n  console.log(inlineOptions.token) // `123`\r\n  console.log(nuxt.options.dev) // `true` or `false`\r\n  nuxt.hook('ready', async nuxt => {\r\n    console.log('Nuxt is ready')\r\n  })\r\n}\n","filename":"modules/example.ts","language":"ts","meta":"[modules/example.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// modules/module.mjs"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" (inlineOptions, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// You can do whatever you like here.."}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  console."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"(inlineOptions.token) "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// `123`"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  console."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"(nuxt.options.dev) "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// `true` or `false`"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  nuxt."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'ready'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"nuxt"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'Nuxt is ready'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"}"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\r\n  modules: [\r\n    // Using package name (recommended usage)\r\n    '@nuxtjs/example',\r\n\r\n    // Load a local module\r\n    './modules/example',\r\n\r\n    // Add module with inline-options\r\n    ['./modules/example', { token: '123' }]\r\n\r\n    // Inline module definition\r\n    async (inlineOptions, nuxt) => { }\r\n  ]\r\n})\n","filename":"nuxt.config","language":"ts","meta":"[nuxt.config]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"modules: ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Using package name (recommended usage)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxtjs/example'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Load a local module"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'./modules/example'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Add module with inline-options"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    ["}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'./modules/example'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", { token: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'123'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" }]"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Inline module definition"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" ("}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"inlineOptions"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"nuxt"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  ]"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"defining-nuxt-modules"},"children":[{"type":"text","value":"Defining Nuxt Modules"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Creating Nuxt modules involves tedious and common tasks. "},{"type":"element","tag":"a","props":{"href":"/docs/api/advanced/kit"},"children":[{"type":"text","value":"Nuxt Kit"}]},{"type":"text","value":", provides a convenient and standard API to define Nuxt modules using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"text","value":":"}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule({\r\n  meta: {\r\n    // Usually  npm package name of your module\r\n    name: '@nuxtjs/example',\r\n    // The key in `nuxt.config` that holds your module options\r\n    configKey: 'sample',\r\n    // Compatibility constraints\r\n    compatibility: {\r\n      // Semver version of supported nuxt versions\r\n      nuxt: '^3.0.0'\r\n    }\r\n  },\r\n  // Default configuration options for your module\r\n  defaults: {},\r\n  hooks: {},\r\n  async setup(moduleOptions, nuxt) {\r\n    // -- Add your module logic here --\r\n  }\r\n})\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { defineNuxtModule } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"meta: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Usually  npm package name of your module"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    name: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxtjs/example'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// The key in `nuxt.config` that holds your module options"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    configKey: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'sample'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Compatibility constraints"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    compatibility: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Semver version of supported nuxt versions"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      nuxt: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'^3.0.0'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Default configuration options for your module"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"defaults: {}"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"hooks: {}"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"(moduleOptions, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// -- Add your module logic here --"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The result of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"text","value":" is a wrapper function with an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"(inlineOptions, nuxt)"}]},{"type":"text","value":" signature. It applies defaults and other necessary steps and calls the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"setup"}]},{"type":"text","value":" function when called."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"text","value":" features:"}]}]},{"type":"element","tag":"list","props":{},"children":[{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Support "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defaults"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta.configKey"}]},{"type":"text","value":" for automatically merging module options"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Type hints and automated type inference"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Add shims for basic Nuxt 2 compatibility"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ensure module gets installed only once using a unique key computed from "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta.name"}]},{"type":"text","value":" or "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta.configKey"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Automatically register Nuxt hooks"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Automatically check for compatibility issues based on module meta"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Expose "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"getOptions"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"getMeta"}]},{"type":"text","value":" for internal usage of Nuxt"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Ensuring backward and upward compatibility as long as the module is using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"text","value":" from the latest version of "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxt/kit"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Integration with module builder tooling"}]}]}]},{"type":"element","tag":"h2","props":{"id":"best-practices"},"children":[{"type":"text","value":"Best Practices"}]},{"type":"element","tag":"h3","props":{"id":"async-modules"},"children":[{"type":"text","value":"Async Modules"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt Modules can do asynchronous operations. For example, you may want to develop a module that needs fetching some API or calling an async function."}]},{"type":"element","tag":"alert","props":{"type":"warning"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Be careful that "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxi dev"}]},{"type":"text","value":" waits for your module setup before going to the next module and starting the development server. Do time-consuming logic using deferred Nuxt hooks."}]}]},{"type":"element","tag":"h3","props":{"id":"always-prefix-exposed-interfaces"},"children":[{"type":"text","value":"Always Prefix Exposed Interfaces"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt Modules should provide an explicit prefix for any exposed configuration, plugin, API, composable, or component to avoid conflict with other modules and internals."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ideally, you should prefix them with your module's name (e.g. if your module is called "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-foo"}]},{"type":"text","value":", expose "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<FooButton>"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useFooBar()"}]},{"type":"text","value":" and "},{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"not"}]},{"type":"text","value":" "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Button>"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useBar()"}]},{"type":"text","value":")."}]},{"type":"element","tag":"h3","props":{"id":"be-typescript-friendly"},"children":[{"type":"text","value":"Be TypeScript Friendly"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 3, has first-class typescript integration for the best developer experience."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Exposing types and using typescript to develop modules can benefit users even when not using typescript directly."}]},{"type":"element","tag":"h3","props":{"id":"avoid-commonjs-syntax"},"children":[{"type":"text","value":"Avoid CommonJS Syntax"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 3, relies on native ESM. Please read "},{"type":"element","tag":"a","props":{"href":"/docs/guide/concepts/esm"},"children":[{"type":"text","value":"Native ES Modules"}]},{"type":"text","value":" for more information."}]},{"type":"element","tag":"h2","props":{"id":"modules-ecosystem"},"children":[{"type":"text","value":"Modules Ecosystem"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt tends to have a healthy and rich ecosystem of Nuxt modules and integrations. Here are some best practices if you want to jump in and contribute!"}]},{"type":"element","tag":"h3","props":{"id":"document-module-usage"},"children":[{"type":"text","value":"Document Module Usage"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Consider documenting module usage in the readme file:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Why use this module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"How to use this module"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"What this module does?"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Linking to the integration website and documentation is always a good idea."}]},{"type":"element","tag":"h3","props":{"id":"use-nuxt-prefix-for-npm-packages"},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-"}]},{"type":"text","value":" Prefix for npm Packages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To make your modules discoverable, use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-"}]},{"type":"text","value":" prefix for the npm package name. This is always the best starting point to draft and try an idea!"}]},{"type":"element","tag":"h3","props":{"id":"listing-module"},"children":[{"type":"text","value":"Listing Module"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Do you have a working Module and want it "},{"type":"element","tag":"a","props":{"href":"/modules"},"children":[{"type":"text","value":"listed"}]},{"type":"text","value":"? Open an issue in "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/modules/issues/new","rel":["nofollow"]},"children":[{"type":"text","value":"nuxt/modules"}]},{"type":"text","value":" repository.\r\nNuxt team can help you to apply best practices before listing."}]},{"type":"element","tag":"h3","props":{"id":"do-not-advertize-with-a-specific-nuxt-version"},"children":[{"type":"text","value":"Do Not Advertize With a Specific Nuxt Version"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 3, Nuxt Kit, and other new toolings are made to have both forward and backward compatibility in mind."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Please use \"X for Nuxt\" instead of \"X for Nuxt 3\" to avoid fragmentation in the ecosystem and prefer using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"meta.compatibility"}]},{"type":"text","value":" to set Nuxt version constraints."}]},{"type":"element","tag":"h3","props":{"id":"joining-nuxt-community"},"children":[{"type":"text","value":"Joining nuxt-community"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"By moving your modules to "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt-community","rel":["nofollow"]},"children":[{"type":"text","value":"nuxt-community"}]},{"type":"text","value":", there is always someone else to help, and this way, we can join forces to make one perfect solution."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you have an already published and working module and want to transfer it to nuxt-community, open an issue in "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/modules/issues/new","rel":["nofollow"]},"children":[{"type":"text","value":"nuxt/modules"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"testing"},"children":[{"type":"text","value":"Testing"}]},{"type":"element","tag":"h3","props":{"id":"nuxttest-utils"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"@nuxt/test-utils"}]}]},{"type":"element","tag":"h4","props":{"id":"fixture-setup"},"children":[{"type":"text","value":"Fixture Setup"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"To test the modules we create, we could set up some Nuxt apps as fixtures and test their behaviors. For example, we can create a simple Nuxt app under "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"./test/fixture"}]},{"type":"text","value":" with the configuration like:"}]},{"type":"element","tag":"code","props":{"code":"// nuxt.config.js\r\nimport MyModule from '../../src'\r\n\r\nexport default defineNuxtConfig({\r\n  modules: [\r\n    MyModule\r\n  ]\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// nuxt.config.js"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" MyModule "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'../../src'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"modules: ["}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    MyModule"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  ]"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"tests-setup"},"children":[{"type":"text","value":"Tests Setup"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can create a test file and use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"rootDir"}]},{"type":"text","value":" to test the fixture."}]},{"type":"element","tag":"code","props":{"code":"// basic.test.js\r\nimport { describe, it, expect } from 'vitest'\r\nimport { fileURLToPath } from 'node:url'\r\nimport { setup, $fetch } from '@nuxt/test-utils'\r\n\r\ndescribe('ssr', async () => {\r\n  await setup({\r\n    rootDir: fileURLToPath(new URL('./fixture', import.meta.url)),\r\n  })\r\n\r\n  it('renders the index page', async () => {\r\n    // Get response to a server-rendered page with `$fetch`.\r\n    const html = await $fetch('/')\r\n\r\n    expect(html).toContain('<a>A Link</a>')\r\n  })\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// basic.test.js"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { describe, it, expect } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'vitest'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { fileURLToPath } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'node:url'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { setup, $fetch } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/test-utils'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"describe"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'ssr'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    rootDir: "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"fileURLToPath"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"new"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"URL"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'./fixture'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":".url)),"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"it"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'renders the index page'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Get response to a server-rendered page with `$fetch`."}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"html"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"await"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"$fetch"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'/'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"expect"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"(html)."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"toContain"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'<a>A Link</a>'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For more usage, please refer to our "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/nuxt/blob/main/test/basic.test.ts","rel":["nofollow"]},"children":[{"type":"text","value":"tests for Nuxt 3 framework"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"mock-utils"},"children":[{"type":"text","value":"Mock utils"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"mockFn()"}]},{"type":"text","value":": Returns a mocked function based on test runner."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"mockLogger()"}]},{"type":"text","value":": Mocks logger using "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/consola#mocktypes","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"consola.mockTypes"}]}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"mockFn()"}]},{"type":"text","value":". Returns an object of mocked logger types."}]}]},{"type":"element","tag":"h3","props":{"id":"testing-externally"},"children":[{"type":"text","value":"Testing Externally"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you wish to test your module outside of the module playground before publishing to npm, you can use "},{"type":"element","tag":"a","props":{"href":"https://docs.npmjs.com/cli/v7/commands/npm-pack","rel":["nofollow"]},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"npm pack"}]}]},{"type":"text","value":" command, or your package manager equivalent, to create a tarball from your module. Then in your test project, you can add your module to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"package.json"}]},{"type":"text","value":" packages as: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"\"nuxt-module-name\": \"file:/path/to/tarball.tgz\""}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"After that, you should be able to reference "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt-module-name"}]},{"type":"text","value":" like in any regular project."}]},{"type":"element","tag":"h2","props":{"id":"examples"},"children":[{"type":"text","value":"Examples"}]},{"type":"element","tag":"h3","props":{"id":"provide-nuxt-plugins"},"children":[{"type":"text","value":"Provide Nuxt Plugins"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Commonly, modules provide one or more run plugins to add runtime logic."}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule, addPlugin, createResolver } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule<ModuleOptions>({\r\n  setup (options, nuxt) {\r\n    // Create resolver to resolve relative paths\r\n    const { resolve } = createResolver(import.meta.url)\r\n\r\n    addPlugin(resolve('./runtime/plugin'))\r\n  }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { defineNuxtModule, addPlugin, createResolver } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"<ModuleOptions>({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" (options, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Create resolver to resolve relative paths"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { "}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"createResolver"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":".url)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"addPlugin"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'./runtime/plugin'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"read-more","props":{"link":"/docs/api/advanced/kit","title":"API > Advanced > Kit"},"children":[]},{"type":"element","tag":"h3","props":{"id":"add-a-css-library"},"children":[{"type":"text","value":"Add a CSS Library"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your module will provide a CSS library, make sure to check if the user already included the library to avoid duplicates and add an option to disable the CSS library in the module."}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule({\r\n  setup (options, nuxt) {\r\n    nuxt.options.css.push('font-awesome/css/font-awesome.css')\r\n  }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { defineNuxtModule } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" (options, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    nuxt.options.css."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'font-awesome/css/font-awesome.css'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"adding-vue-components"},"children":[{"type":"text","value":"Adding Vue Components"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your module should provide Vue components, you can use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"addComponent"}]},{"type":"text","value":" utility to add them as auto-imports for Nuxt to resolve."}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule, addComponent } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule({\r\n  setup(options, nuxt) {\r\n    addComponent({\r\n      name: 'MyComponent', // name of the component to be used in vue templates\r\n      export: 'MyAwesomeComponent', // (optional) if the component is a named (rather than default) export\r\n      // filePath should be package name or resolved path\r\n      // if the component is created locally, preferably in `runtime` dir\r\n      filePath: '@vue/awesome-components' // resolve(runtimeDir, 'components', 'MyComponent.vue')\r\n    })\r\n  }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { defineNuxtModule, addComponent } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"(options, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"addComponent"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      name: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'MyComponent'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// name of the component to be used in vue templates"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      export: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'MyAwesomeComponent'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// (optional) if the component is a named (rather than default) export"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// filePath should be package name or resolved path"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// if the component is created locally, preferably in `runtime` dir"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      filePath: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@vue/awesome-components'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// resolve(runtimeDir, 'components', 'MyComponent.vue')"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"adding-composables"},"children":[{"type":"text","value":"Adding Composables"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your module should provide composables, you can use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"addImports"}]},{"type":"text","value":" utility to add them as auto-imports for Nuxt to resolve."}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule, addImports, createResolver } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule({\r\n  setup(options, nuxt) {\r\n    const resolver = createResolver(import.meta.url)\r\n    addImports({\r\n      name: 'useComposable', // name of the composable to be used\r\n      as: 'useComposable', \r\n      from: resolver.resolve('runtime/composables/useComposable') // path of composable \r\n    })\r\n  }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { defineNuxtModule, addImports, createResolver } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"(options, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"resolver"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"createResolver"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":".url)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"addImports"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      name: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'useComposable'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// name of the composable to be used"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      as: "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'useComposable'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      from: resolver."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'runtime/composables/useComposable'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":") "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// path of composable "}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Alternatively, you can add an entire directory by using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"addImportsDir"}]},{"type":"text","value":"."}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule, addImportsDir, createResolver } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule({\r\n  setup(options, nuxt) {\r\n    const resolver = createResolver(import.meta.url)\r\n    addImportsDir(resolver.resolve('runtime/composables'))\r\n  }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { defineNuxtModule, addImportsDir, createResolver } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"(options, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"resolver"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"createResolver"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"."}]},{"type":"element","tag":"span","props":{"class":"ct-660123"},"children":[{"type":"text","value":"meta"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":".url)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"addImportsDir"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"(resolver."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"resolve"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'runtime/composables'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"))"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"alert","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Note that auto-imports are not enabled for files within "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"node_modules"}]},{"type":"text","value":" for performance reasons, so the module starter "},{"type":"element","tag":"a","props":{"href":"https://github.com/nuxt/starter/blob/module/.nuxtrc#L1","rel":["nofollow"]},"children":[{"type":"text","value":"deliberately disables them"}]},{"type":"text","value":" while developing a module. If you are using the module starter, auto-imports will not be enabled in your playground either."}]}]},{"type":"element","tag":"h3","props":{"id":"clean-up-module"},"children":[{"type":"text","value":"Clean Up Module"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If your module opens, handles or starts a watcher, you should close it when the Nuxt lifecycle is done. For this, use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"close"}]},{"type":"text","value":" hook:"}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule({\r\n  setup (options, nuxt) {\r\n    nuxt.hook('close', async nuxt => {\r\n      // Your custom code here\r\n    })\r\n  }\r\n})\n","language":"ts","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" { defineNuxtModule } "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":" (options, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    nuxt."}]},{"type":"element","tag":"span","props":{"class":"ct-60ebe5"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-f0a281"},"children":[{"type":"text","value":"'close'"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"nuxt"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-e4ff71"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-3ac2c3"},"children":[{"type":"text","value":"// Your custom code here"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"    })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-7b4dd1"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6368f4"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-60ebe5{color:#8250DF}\n.ct-e4ff71{color:#CF222E}\n.ct-3ac2c3{color:#6E7781}\n.ct-660123{color:#0550AE}\n.ct-f0a281{color:#0A3069}\n.ct-7b4dd1{color:#24292F}\n.ct-6368f4{color:#953800}\n.dark .ct-6368f4{color:#FFA657}\n.dark .ct-7b4dd1{color:#C9D1D9}\n.dark .ct-f0a281{color:#A5D6FF}\n.dark .ct-660123{color:#79C0FF}\n.dark .ct-3ac2c3{color:#8B949E}\n.dark .ct-e4ff71{color:#FF7B72}\n.dark .ct-60ebe5{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"quick-start","depth":2,"text":"Quick Start"},{"id":"module-anatomy","depth":2,"text":"Module Anatomy"},{"id":"defining-nuxt-modules","depth":2,"text":"Defining Nuxt Modules"},{"id":"best-practices","depth":2,"text":"Best Practices","children":[{"id":"async-modules","depth":3,"text":"Async Modules"},{"id":"always-prefix-exposed-interfaces","depth":3,"text":"Always Prefix Exposed Interfaces"},{"id":"be-typescript-friendly","depth":3,"text":"Be TypeScript Friendly"},{"id":"avoid-commonjs-syntax","depth":3,"text":"Avoid CommonJS Syntax"}]},{"id":"modules-ecosystem","depth":2,"text":"Modules Ecosystem","children":[{"id":"document-module-usage","depth":3,"text":"Document Module Usage"},{"id":"use-nuxt-prefix-for-npm-packages","depth":3,"text":"Use nuxt- Prefix for npm Packages"},{"id":"listing-module","depth":3,"text":"Listing Module"},{"id":"do-not-advertize-with-a-specific-nuxt-version","depth":3,"text":"Do Not Advertize With a Specific Nuxt Version"},{"id":"joining-nuxt-community","depth":3,"text":"Joining nuxt-community"}]},{"id":"testing","depth":2,"text":"Testing","children":[{"id":"nuxttest-utils","depth":3,"text":"@nuxt/test-utils"},{"id":"mock-utils","depth":3,"text":"Mock utils"},{"id":"testing-externally","depth":3,"text":"Testing Externally"}]},{"id":"examples","depth":2,"text":"Examples","children":[{"id":"provide-nuxt-plugins","depth":3,"text":"Provide Nuxt Plugins"},{"id":"add-a-css-library","depth":3,"text":"Add a CSS Library"},{"id":"adding-vue-components","depth":3,"text":"Adding Vue Components"},{"id":"adding-composables","depth":3,"text":"Adding Composables"},{"id":"clean-up-module","depth":3,"text":"Clean Up Module"}]}]}},"_type":"markdown","_id":"content:2.guide:3.going-further:3.modules.md","_source":"content","_file":"2.guide/3.going-further/3.modules.md","_extension":"md"}