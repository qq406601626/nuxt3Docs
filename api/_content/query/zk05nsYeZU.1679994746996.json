{"_path":"/migration/pages-and-layouts","_dir":"migration","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Pages and Layouts","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"pages-and-layouts"},"children":[{"type":"text","value":"Pages and Layouts"}]},{"type":"element","tag":"h2","props":{"id":"appvue"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 3 provides a central entry point to your app via "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/app.vue"}]},{"type":"text","value":". If you don't have an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":" file in your source directory, Nuxt will use its own default version."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This file is a great place to put any custom code that needs to be run once when your app starts up, as well as any components that are present on every page of your app. For example, if you only have one layout, you can move this to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":" instead."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/app"},"children":[{"type":"text","value":"Read more about "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"migration"},"children":[{"type":"text","value":"Migration"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Consider creating an "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":" file and including any logic that needs to run once at the top-level of your app. You can check out "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/app"},"children":[{"type":"text","value":"an example here"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h2","props":{"id":"layouts"},"children":[{"type":"text","value":"Layouts"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you are using layouts in your app for multiple pages, there is only a slight change required."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In Nuxt 2, the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Nuxt>"}]},{"type":"text","value":" component is used within a layout to render the current page. In Nuxt 3, layouts use slots instead, so you will have to replace that component with a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<slot />"}]},{"type":"text","value":". This also allows advanced use cases with named and scoped slots. "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/layouts"},"children":[{"type":"text","value":"Read more about layouts"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will also need to change how you define the layout used by a page using the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":" compiler macro. Layouts will be kebab-cased. So "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"layouts/customLayout.vue"}]},{"type":"text","value":" becomes "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"custom-layout"}]},{"type":"text","value":" when referenced in your page."}]},{"type":"element","tag":"h3","props":{"id":"migration-1"},"children":[{"type":"text","value":"Migration"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Replace "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Nuxt />"}]},{"type":"text","value":" with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<slot />"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":" to select the layout used by your page."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Move "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/layouts/_error.vue"}]},{"type":"text","value":" to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/error.vue"}]},{"type":"text","value":". See "},{"type":"element","tag":"a","props":{"href":"/docs/getting-started/error-handling"},"children":[{"type":"text","value":"the error handling docs"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"example-layoutscustomvue"},"children":[{"type":"text","value":"Example: "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"~/layouts/custom.vue"}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"  <template>\r\n    <div id=\"app-layout\">\r\n      <main>\r\n-       <Nuxt />\r\n+       <slot />\r\n      </main>\r\n    </div>\r\n  </template>\n","filename":"layouts/custom.vue","language":"diff","meta":"[layouts/custom.vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  <template>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    <div id=\"app-layout\">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"      <main>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-bdf42c"},"children":[{"type":"text","value":"-       <Nuxt />"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"+       <slot />"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"      </main>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    </div>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  </template>"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"  <script>\r\n+ definePageMeta({ layout: 'custom' })\r\n  export default {\r\n-   layout: 'custom'\r\n  }\r\n  </script>\n","filename":"pages/index.vue","language":"diff","meta":"[pages/index.vue]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  <script>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"+ definePageMeta({ layout: 'custom' })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  export default {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-bdf42c"},"children":[{"type":"text","value":"-   layout: 'custom'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  </script>"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"pages"},"children":[{"type":"text","value":"Pages"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt 3 ships with an optional "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"vue-router"}]},{"type":"text","value":" integration triggered by the existence of a "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":" directory in your source directory. If you only have a single page, you may consider instead moving it to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"app.vue"}]},{"type":"text","value":" for a lighter build."}]},{"type":"element","tag":"h3","props":{"id":"dynamic-routes"},"children":[{"type":"text","value":"Dynamic Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The format for defining dynamic routes in Nuxt 3 is slightly different from Nuxt 2, so you may need to rename some of the files within "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]},{"type":"text","value":"."}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Where you previously used "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_id"}]},{"type":"text","value":" to define a dynamic route parameter you now use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[id]"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Where you previously used "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"_.vue"}]},{"type":"text","value":" to define a catch-all route, you now use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"[...slug].vue"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"h3","props":{"id":"nested-routes"},"children":[{"type":"text","value":"Nested Routes"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In Nuxt 2, you will have defined any nested routes (with parent and child components) using "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Nuxt>"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtChild>"}]},{"type":"text","value":". In Nuxt 3, these have been replaced with a single "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtPage>"}]},{"type":"text","value":" component."}]},{"type":"element","tag":"h3","props":{"id":"page-keys-and-keep-alive-props"},"children":[{"type":"text","value":"Page Keys and Keep-alive Props"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you were passing a custom page key or keep-alive props to "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Nuxt>"}]},{"type":"text","value":", you will now use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":" to set these options."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"See "},{"type":"element","tag":"a","props":{"href":"/docs/migration/component-options"},"children":[{"type":"text","value":"more about migrating Nuxt component hooks"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"page-and-layout-transitions"},"children":[{"type":"text","value":"Page and Layout Transitions"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you have been defining transitions for your page or layout directly in your component options, you will now need to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"text","value":" to set the transition."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/pages"},"children":[{"type":"text","value":"Read more about "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"pages/"}]}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"migration-2"},"children":[{"type":"text","value":"Migration"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Rename any pages with dynamic parameters to match the new format."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Update "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<Nuxt>"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtChild>"}]},{"type":"text","value":" to be "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtPage>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"If you're using the Composition API, you can also migrate "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"this.$route"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"this.$router"}]},{"type":"text","value":" to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRoute"}]},{"type":"text","value":" and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"useRouter"}]},{"type":"text","value":" composables."}]}]},{"type":"element","tag":"h4","props":{"id":"example-dynamic-routes"},"children":[{"type":"text","value":"Example: Dynamic Routes"}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"- URL: /users\r\n- Page: /pages/users/index.vue\r\n\r\n- URL: /users/some-user-name\r\n- Page: /pages/users/_user.vue\r\n- Usage: params.user\r\n\r\n- URL: /users/some-user-name/edit\r\n- Page: /pages/users/_user/edit.vue\r\n- Usage: params.user\r\n\r\n- URL: /users/anything-else\r\n- Page: /pages/users/_.vue\r\n- Usage: params.pathMatch\n","filename":"Nuxt 2","meta":"2]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"- URL: /users\r\n- Page: /pages/users/index.vue\r\n\r\n- URL: /users/some-user-name\r\n- Page: /pages/users/_user.vue\r\n- Usage: params.user\r\n\r\n- URL: /users/some-user-name/edit\r\n- Page: /pages/users/_user/edit.vue\r\n- Usage: params.user\r\n\r\n- URL: /users/anything-else\r\n- Page: /pages/users/_.vue\r\n- Usage: params.pathMatch"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"- URL: /users\r\n- Page: /pages/users/index.vue\r\n\r\n- URL: /users/some-user-name\r\n- Page: /pages/users/[user].vue\r\n- Usage: params.user\r\n\r\n- URL: /users/some-user-name/edit\r\n- Page: /pages/users/[user]/edit.vue\r\n- Usage: params.user\r\n\r\n- URL: /users/anything-else\r\n- Page: /pages/users/[...slug].vue\r\n- Usage: params.slug\n","filename":"Nuxt 3","meta":"3]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"- URL: /users\r\n- Page: /pages/users/index.vue\r\n\r\n- URL: /users/some-user-name\r\n- Page: /pages/users/[user].vue\r\n- Usage: params.user\r\n\r\n- URL: /users/some-user-name/edit\r\n- Page: /pages/users/[user]/edit.vue\r\n- Usage: params.user\r\n\r\n- URL: /users/anything-else\r\n- Page: /pages/users/[...slug].vue\r\n- Usage: params.slug"}]}]}]}]}]}]},{"type":"element","tag":"h4","props":{"id":"example-nested-routes-and-definepagemeta"},"children":[{"type":"text","value":"Example: Nested Routes and "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"definePageMeta"}]}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"<template>\r\n  <div>\r\n    <NuxtChild keep-alive :keep-alive-props=\"{ exclude: ['modal'] }\" :nuxt-child-key=\"$route.slug\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  transition: 'page' // or { name: 'page' }\r\n}\r\n</script>\n","filename":"Nuxt 2","language":"vue","meta":"[Nuxt 2]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-bdf42c"},"children":[{"type":"text","value":"NuxtChild"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-58f302"},"children":[{"type":"text","value":"keep-alive"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-58f302"},"children":[{"type":"text","value":":keep-alive-props"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"\"{ exclude: ['modal'] }\""}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-58f302"},"children":[{"type":"text","value":":nuxt-child-key"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"\"$route.slug\""}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" />"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"transition: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'page'"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ff1ba3"},"children":[{"type":"text","value":"// or { name: 'page' }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"<template>\r\n  <div>\r\n    <NuxtPage />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// This compiler macro works in both <script> and <script setup>\r\ndefinePageMeta({\r\n  // you can also pass a string or a computed property\r\n  key: route => route.slug,\r\n  transition: {\r\n    name: 'page',\r\n  },\r\n  keepalive: {\r\n    exclude: ['modal']\r\n  },\r\n})\r\n</script>\n","filename":"Nuxt 3","language":"vue","meta":"[Nuxt 3]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  <"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    <"}]},{"type":"element","tag":"span","props":{"class":"ct-bdf42c"},"children":[{"type":"text","value":"NuxtPage"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" />"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  </"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"div"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"template"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-58f302"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-ff1ba3"},"children":[{"type":"text","value":"// This compiler macro works in both <script> and <script setup>"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9a2fa5"},"children":[{"type":"text","value":"definePageMeta"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-ff1ba3"},"children":[{"type":"text","value":"// you can also pass a string or a computed property"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-9a2fa5"},"children":[{"type":"text","value":"key"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":": "}]},{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":"route"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" route.slug,"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  transition: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    name: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'page'"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  },"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  keepalive: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    exclude: ["}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'modal'"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"]"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  },"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"})"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"nuxtlink-component"},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtLink>"}]},{"type":"text","value":" Component"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most of the syntax and functionality are the same for the global "},{"type":"element","tag":"a","props":{"href":"/docs/api/components/nuxt-link"},"children":[{"type":"text","value":"NuxtLink"}]},{"type":"text","value":" component. If you have been using the shortcut "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NLink>"}]},{"type":"text","value":" format, you should update this to use "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtLink>"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"<NuxtLink>"}]},{"type":"text","value":" is now a drop-in replacement for "},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"all"}]},{"type":"text","value":" links, even external ones. You can read more about it, and how to extend it to provide your own link component, "},{"type":"element","tag":"a","props":{"href":"/docs/api/components/nuxt-link"},"children":[{"type":"text","value":"in the docs"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"programmatic-navigation"},"children":[{"type":"text","value":"Programmatic Navigation"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"When migrating from Nuxt 2 to Nuxt 3, you will have to update how you programmatically navigate your users. In Nuxt 2, you had access to the underlying Vue Router with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"this.$router"}]},{"type":"text","value":". In Nuxt 3, you can use the "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"navigateTo()"}]},{"type":"text","value":" utility method which allows you to pass a route and parameters to Vue Router."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"Note:"}]},{"type":"text","value":" Ensure to always "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"await"}]},{"type":"text","value":" on "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"navigateTo"}]},{"type":"text","value":" or chain it's result by returning from functions."}]},{"type":"element","tag":"code-group","props":{},"children":[{"type":"element","tag":"code","props":{"code":"<script>\r\nexport default {\r\n  methods: {\r\n    navigate(){\r\n      this.$router.push({\r\n        path: '/search',\r\n        query: {\r\n          name: 'first name',\r\n          type: '1'\r\n        }\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\n","filename":"Nuxt 2","language":"vue","meta":"[Nuxt 2]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"methods: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-9a2fa5"},"children":[{"type":"text","value":"navigate"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"(){"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"      "}]},{"type":"element","tag":"span","props":{"class":"ct-58f302"},"children":[{"type":"text","value":"this"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":".$router."}]},{"type":"element","tag":"span","props":{"class":"ct-9a2fa5"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"        path: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'/search'"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"        query: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"          name: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'first name'"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"          type: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'1'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"        }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"      })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a24624"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"code","props":{"code":"<script setup>\r\nconst router = useRouter();\r\n\r\nfunction navigate(){\r\n  return navigateTo({\r\n    path: '/search',\r\n    query: {\r\n      name: 'first name',\r\n      type: '1'\r\n    }\r\n  })\r\n}\r\n</script>\n","filename":"Nuxt 3","language":"vue","meta":"[Nuxt 3]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-58f302"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"const"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-58f302"},"children":[{"type":"text","value":"router"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9a2fa5"},"children":[{"type":"text","value":"useRouter"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"();"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"function"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9a2fa5"},"children":[{"type":"text","value":"navigate"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"(){"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-9831e1"},"children":[{"type":"text","value":"return"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-9a2fa5"},"children":[{"type":"text","value":"navigateTo"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    path: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'/search'"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    query: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"      name: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'first name'"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":","}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"      type: "}]},{"type":"element","tag":"span","props":{"class":"ct-68aa11"},"children":[{"type":"text","value":"'1'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"    }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"  })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"}"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-a7bb93"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-a6608e"},"children":[{"type":"text","value":">"}]}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-9a2fa5{color:#8250DF}\n.ct-ff1ba3{color:#6E7781}\n.ct-a24624{color:#953800}\n.ct-9831e1{color:#CF222E}\n.ct-68aa11{color:#0A3069}\n.ct-58f302{color:#0550AE}\n.ct-a7bb93{color:#116329}\n.ct-bdf42c{color:#82071E}\n.ct-a6608e{color:#24292F}\n.dark .ct-a6608e{color:#C9D1D9}\n.dark .ct-bdf42c{color:#FFA198}\n.dark .ct-a7bb93{color:#7EE787}\n.dark .ct-58f302{color:#79C0FF}\n.dark .ct-68aa11{color:#A5D6FF}\n.dark .ct-9831e1{color:#FF7B72}\n.dark .ct-a24624{color:#FFA657}\n.dark .ct-ff1ba3{color:#8B949E}\n.dark .ct-9a2fa5{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"appvue","depth":2,"text":"app.vue","children":[{"id":"migration","depth":3,"text":"Migration"}]},{"id":"layouts","depth":2,"text":"Layouts","children":[{"id":"migration-1","depth":3,"text":"Migration"},{"id":"example-layoutscustomvue","depth":3,"text":"Example: ~/layouts/custom.vue"}]},{"id":"pages","depth":2,"text":"Pages","children":[{"id":"dynamic-routes","depth":3,"text":"Dynamic Routes"},{"id":"nested-routes","depth":3,"text":"Nested Routes"},{"id":"page-keys-and-keep-alive-props","depth":3,"text":"Page Keys and Keep-alive Props"},{"id":"page-and-layout-transitions","depth":3,"text":"Page and Layout Transitions"},{"id":"migration-2","depth":3,"text":"Migration"}]},{"id":"nuxtlink-component","depth":2,"text":"<NuxtLink> Component"},{"id":"programmatic-navigation","depth":2,"text":"Programmatic Navigation"}]}},"_type":"markdown","_id":"content:7.migration:6.pages-and-layouts.md","_source":"content","_file":"7.migration/6.pages-and-layouts.md","_extension":"md"}