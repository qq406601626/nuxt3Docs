{"_path":"/guide/going-further/hooks","_dir":"going-further","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"Lifecycle Hooks","description":"Nuxt provides a powerful hooking system to expand almost every aspect using hooks.","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"lifecycle-hooks"},"children":[{"type":"text","value":"Lifecycle Hooks"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Nuxt provides a powerful hooking system to expand almost every aspect using hooks. This feature is powered by "},{"type":"element","tag":"a","props":{"href":"https://github.com/unjs/hookable","rel":["nofollow"]},"children":[{"type":"text","value":"unjs/hookable"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h2","props":{"id":"nuxt-hooks-build-time"},"children":[{"type":"text","value":"Nuxt Hooks (Build Time)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These hooks are available for "},{"type":"element","tag":"a","props":{"href":"/docs/guide/going-further/modules"},"children":[{"type":"text","value":"Nuxt Modules"}]},{"type":"text","value":" and build context."}]},{"type":"element","tag":"h3","props":{"id":"usage-with-nuxtconfig"},"children":[{"type":"text","value":"Usage with "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"nuxt.config"}]}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtConfig({\r\n  hooks: {\r\n    'close': () => { }\r\n  }\r\n})\n","filename":"nuxt.config","language":"js","meta":"[nuxt.config]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"defineNuxtConfig"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"hooks: {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'close'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":": () "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" { }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h3","props":{"id":"usage-with-nuxt-modules"},"children":[{"type":"text","value":"Usage with Nuxt Modules"}]},{"type":"element","tag":"code","props":{"code":"import { defineNuxtModule } from '@nuxt/kit'\r\n\r\nexport default defineNuxtModule({\r\n  setup (options, nuxt) {\r\n    nuxt.hook('close', async () => { })\r\n  }\r\n})\n","language":"js","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"import"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" { defineNuxtModule } "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"from"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'@nuxt/kit'"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"defineNuxtModule"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"({"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"setup"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" (options, nuxt) "}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"    nuxt."}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'close'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" () "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" { })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"  }"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"})"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"app-hooks-runtime"},"children":[{"type":"text","value":"App Hooks (Runtime)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"App hooks can be mainly used by "},{"type":"element","tag":"a","props":{"href":"/docs/guide/directory-structure/plugins"},"children":[{"type":"text","value":"Nuxt Plugins"}]},{"type":"text","value":" to hook into rendering lifecycle but could also be used in Vue composables."}]},{"type":"element","tag":"h3","props":{"id":"usage-with-plugins"},"children":[{"type":"text","value":"Usage with Plugins"}]},{"type":"element","tag":"code","props":{"code":"export default defineNuxtPlugin((nuxtApp) => {\r\n    nuxtApp.hook('page:start', () => {\r\n        /* your code goes here */\r\n     })\r\n})\n","filename":"plugins/test.ts","language":"js","meta":"[plugins/test.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"defineNuxtPlugin"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"((nuxtApp) "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"    nuxtApp."}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'page:start'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", () "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"        "}]},{"type":"element","tag":"span","props":{"class":"ct-122d7c"},"children":[{"type":"text","value":"/* your code goes here */"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"     })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"alert","props":{"icon":"👉"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Learn more about  "},{"type":"element","tag":"a","props":{"href":"/docs/api/advanced/hooks"},"children":[{"type":"text","value":"available lifecycle hooks"}]}]}]},{"type":"element","tag":"h2","props":{"id":"nitro-app-hooks-runtime"},"children":[{"type":"text","value":"Nitro App Hooks (Runtime)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These hooks are available for "},{"type":"element","tag":"a","props":{"href":"https://nitro.unjs.io/guide/advanced/plugins","rel":["nofollow"]},"children":[{"type":"text","value":"Nitro plugins"}]},{"type":"text","value":" to hook into Nitro's runtime behavior."}]},{"type":"element","tag":"h3","props":{"id":"usage-within-a-nitro-plugin"},"children":[{"type":"text","value":"Usage within a Nitro Plugin"}]},{"type":"element","tag":"code","props":{"code":"export default defineNitroPlugin((nitroApp) => {\r\n  nitroApp.hooks.hook('render:html', (html, { event }) => {\r\n    console.log('render:html', html)\r\n    html.bodyAppend.push('<hr>Appended by custom plugin')\r\n  })\r\n\r\n  nitroApp.hooks.hook('render:response', (response, { event }) => {\r\n    console.log('render:response', response)\r\n  })\r\n})\n","filename":"~/server/plugins/test.ts","language":"js","meta":"[~/server/plugins/test.ts]"},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"export"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"default"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"defineNitroPlugin"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"((nitroApp) "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"{"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"  nitroApp.hooks."}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'render:html'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", ("}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"html"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", { "}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'render:html'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", html)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"    html.bodyAppend."}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'<hr>Appended by custom plugin'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":")"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"  })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"  nitroApp.hooks."}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"hook"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'render:response'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", ("}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"response"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", { "}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":"event"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" }) "}]},{"type":"element","tag":"span","props":{"class":"ct-c1217c"},"children":[{"type":"text","value":"=>"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":" {"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"    console."}]},{"type":"element","tag":"span","props":{"class":"ct-969e8d"},"children":[{"type":"text","value":"log"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-55cc83"},"children":[{"type":"text","value":"'render:response'"}]},{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":", response)"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"  })"}]}]},{"type":"element","tag":"div","props":{"class":"line"},"children":[{"type":"element","tag":"span","props":{"class":"ct-6689b4"},"children":[{"type":"text","value":"}"}]},{"type":"element","tag":"span","props":{"class":"ct-a2cf75"},"children":[{"type":"text","value":")"}]}]}]}]}]},{"type":"element","tag":"alert","props":{"icon":"👉"},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Learn more about available "},{"type":"element","tag":"a","props":{"href":"/docs/api/advanced/hooks#nitro-hooks-runtime-server-side"},"children":[{"type":"text","value":"Nitro lifecycle hooks"}]},{"type":"text","value":"."}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-122d7c{color:#6E7781}\n.ct-55cc83{color:#0A3069}\n.ct-6689b4{color:#24292F}\n.ct-969e8d{color:#8250DF}\n.ct-a2cf75{color:#953800}\n.ct-c1217c{color:#CF222E}\n.dark .ct-c1217c{color:#FF7B72}\n.dark .ct-a2cf75{color:#FFA657}\n.dark .ct-969e8d{color:#D2A8FF}\n.dark .ct-6689b4{color:#C9D1D9}\n.dark .ct-55cc83{color:#A5D6FF}\n.dark .ct-122d7c{color:#8B949E}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"nuxt-hooks-build-time","depth":2,"text":"Nuxt Hooks (Build Time)","children":[{"id":"usage-with-nuxtconfig","depth":3,"text":"Usage with nuxt.config"},{"id":"usage-with-nuxt-modules","depth":3,"text":"Usage with Nuxt Modules"}]},{"id":"app-hooks-runtime","depth":2,"text":"App Hooks (Runtime)","children":[{"id":"usage-with-plugins","depth":3,"text":"Usage with Plugins"}]},{"id":"nitro-app-hooks-runtime","depth":2,"text":"Nitro App Hooks (Runtime)","children":[{"id":"usage-within-a-nitro-plugin","depth":3,"text":"Usage within a Nitro Plugin"}]}]}},"_type":"markdown","_id":"content:2.guide:3.going-further:2.hooks.md","_source":"content","_file":"2.guide/3.going-further/2.hooks.md","_extension":"md"}